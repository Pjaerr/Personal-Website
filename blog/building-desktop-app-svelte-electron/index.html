<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.f65b3e5c90a83f46460c.css">.book-preview-component{display:flex;flex-direction:row;align-items:center;color:#353b48;width:100%;margin:0 auto 40px}@media (max-width:768px){.book-preview-component{flex-direction:column;justify-content:center}}.book-preview-component img{max-width:265px;height:400px;-o-object-fit:cover;object-fit:cover;margin-right:40px;box-shadow:1px 1px 8px rgba(0,0,0,.25)}@media (max-width:768px){.book-preview-component img{margin:10px;max-width:198px;height:300px}}.book-preview-component-info{display:flex;flex-direction:column;width:100%;padding-right:10px}@media (max-width:768px){.book-preview-component-info{padding:10px}}.book-preview-component-info h1{font-size:1.5em;margin-bottom:0}.book-preview-component-info h2{font-size:1em}.book-preview-component-info-description{font-size:.8em}.book-preview-component-info-description .book-preview-component-info-description-title{font-weight:400;color:#01a3a4}.book-preview-component-info-meta{display:flex;font-size:.8em}.book-preview-component-info-meta .book-preview-component-info-meta-title{font-weight:400;color:#01a3a4;margin-right:40px}code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#073642}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.navigation{display:flex;justify-content:center;align-items:center;font-family:Roboto,sans-serif;font-size:1em;font-weight:400;color:#353b48;padding-top:15px;padding-bottom:15px;width:100%}.navigation.navigation-homepage{font-size:.8em}@media (min-width:992px){.navigation.navigation-homepage{font-size:1em}}.navigation a{margin-left:10px;margin-right:10px;border:1px solid #353b48;border-radius:2px;padding:10px 20px;text-decoration:none;color:#353b48;-webkit-transition:background .3s cubic-bezier(.4,0,.2,1);transition:background .3s cubic-bezier(.4,0,.2,1)}@media (max-width:480px){.navigation a{padding:7px 15px}}.navigation a:hover{background:#353b48;color:#fff}.navigation a.link-active{background-color:#353b48;color:#fff}.navigation-top{justify-content:flex-start}body,html{margin:0;padding:0;border:0;font-family:Roboto,sans-serif}.scroll-progress{position:fixed;top:0;z-index:1;width:100%;background-color:#fff;height:4px}.scroll-progress-bar{height:4px;background:#01a3a4;width:0}.blog-post{width:100%}.blog-post,.blog-post-container{display:flex;justify-content:center}.blog-post-container{flex-direction:column;align-items:center;background:#fff;color:#353b48;width:50%}@media (max-width:992px){.blog-post-container{width:70%}}@media (max-width:768px){.blog-post-container{width:80%}}@media (max-width:480px){.blog-post-container{width:90%}}.blog-post-content{overflow-x:hidden;display:flex;flex-direction:column;align-items:flex-start;font-weight:300;width:100%}.blog-post-content p{width:100%}.blog-post-content h1,.blog-post-content h2,.blog-post-content h3,.blog-post-content h4,.blog-post-content h5{font-weight:900}.blog-post-content h1::-moz-selection,.blog-post-content h2::-moz-selection,.blog-post-content h3::-moz-selection,.blog-post-content h4::-moz-selection,.blog-post-content h5::-moz-selection{color:#fff;background-color:#353b48}.blog-post-content h1::selection,.blog-post-content h2::selection,.blog-post-content h3::selection,.blog-post-content h4::selection,.blog-post-content h5::selection{color:#fff;background-color:#353b48}.blog-post-content p{font-size:1.3em;line-height:1.4}@media (max-width:480px){.blog-post-content p{font-size:1.1em}}.blog-post-content p::-moz-selection{color:#fff;background-color:#353b48}.blog-post-content p::selection{color:#fff;background-color:#353b48}.blog-post-content em::-moz-selection{color:#fff;background-color:#353b48}.blog-post-content em::selection{color:#fff;background-color:#353b48}.blog-post-content img{max-width:100%}.blog-post-content code,.blog-post-content pre{overflow-x:auto}.blog-post-content .gatsby-highlight{overflow-x:auto;width:100%}.blog-post-content a{color:#01a3a4}.blog-post-content a::-moz-selection{color:#fff;background-color:#353b48}.blog-post-content a::selection{color:#fff;background-color:#353b48}.blog-post-content ol,.blog-post-content ul{width:90%}.blog-post-content ol li,.blog-post-content ul li{font-size:1em;margin-bottom:15px}.blog-post-content ol li code,.blog-post-content ul li code{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.sub-page-title{font-family:Roboto,sans-serif;font-size:3em;text-align:center;font-weight:900}@media (max-width:480px){.sub-page-title{font-size:2.2em}}.sub-page-title::-moz-selection{color:#fff;background-color:#353b48}.sub-page-title::selection{color:#fff;background-color:#353b48}.blog-post-author{display:flex;flex-direction:column;width:100%;padding-top:20px;padding-bottom:20px}.blog-post-author-content{display:flex;justify-content:center;align-items:center;padding-right:10px;padding-left:10px;color:#353b48;font-size:1em;text-align:center}@media (min-width:768px){.blog-post-author-content{font-size:1.2em}}.blog-post-author-content a{color:#01a3a4}.GithubIssueComments-container{display:flex;flex-direction:column;width:100%;font-size:.8em;margin:20px}@media (min-width:480px){.GithubIssueComments-container{font-size:1em}}.GithubIssueComments-comment{display:flex;flex-direction:row;margin-top:10px;margin-bottom:10px}.GithubIssueComments-comment-user-avatar{width:20px;height:20px;margin-right:5px}@media (min-width:480px){.GithubIssueComments-comment-user-avatar{width:40px;height:40px;margin-right:10px}}.GithubIssueComments-comment-user-avatar>img{width:100%;height:100%;border-radius:3px}.GithubIssueComments-comment-box{border:1px solid rgba(149,157,165,.5);border-radius:3px;color:#24292e;width:100%;overflow:hidden}.GithubIssueComments-comment-box-header{border-bottom:1px solid rgba(149,157,165,.5);background-color:#f6f8fa;height:34px;display:flex;justify-content:flex-start;align-items:center;padding:.5rem}.GithubIssueComments-comment-box-header-isOwner{background-color:#f1f8ff}.GithubIssueComments-comment-box-header-username{font-weight:700}.GithubIssueComments-comment-box-header-username>span{font-weight:400;color:#586069}.GithubIssueComments-comment-box-body{background-color:#fff;padding:.8rem}.GithubIssueComments-comment-box-body>p{overflow-wrap:break-word}.GithubIssueComments-comment-box-body>p>blockquote{margin:0;padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.GithubIssueComments-comment-box-body>p pre,code{overflow-x:auto}.GithubIssueComments-new-comment-button{display:flex;justify-content:center;align-items:center;min-width:12rem;min-height:2.5rem;padding-left:.5rem;padding-right:.5rem;margin:10px auto 0;border-radius:3px;background-color:#28a745;color:#fff;text-align:center;font-weight:700;text-decoration:none}.GithubIssueComments-loading-icon{width:40px;height:40px;background-color:#6a737d;margin:30px auto 0;-webkit-animation:sk-rotateplane 1.5s ease-in-out infinite;animation:sk-rotateplane 1.5s ease-in-out infinite}@-webkit-keyframes sk-rotateplane{0%{-webkit-transform:perspective(120px)}50%{-webkit-transform:perspective(120px) rotateY(180deg)}to{-webkit-transform:perspective(120px) rotateY(180deg) rotateX(180deg)}}@keyframes sk-rotateplane{0%{transform:perspective(120px) rotateX(0deg) rotateY(0deg);-webkit-transform:perspective(120px) rotateX(0deg) rotateY(0deg)}50%{transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg);-webkit-transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg)}to{transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg);-webkit-transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)}}.GithubIssueComments-no-comments-found{display:flex;justify-content:center;align-items:center;padding:1rem}.GithubIssueComments-show-comments-button{display:flex;justify-content:center;align-items:center;margin:0 auto;width:12rem;height:2.5rem;padding-left:.5rem;padding-right:.5rem;border:1px solid #586069;border-radius:3px;background-color:#fff;color:#586069;-webkit-transition:background-color .3s cubic-bezier(.4,0,.2,1);transition:background-color .3s cubic-bezier(.4,0,.2,1)}.GithubIssueComments-show-comments-button:hover{background-color:#586069;color:#fff}.GithubIssueComments-refresh-comments-button{border:none;background:none;margin:0 auto;display:flex;justify-content:center;align-items:center;color:#586069;text-decoration:underline;font-size:.8em}.GithubIssueComments-refresh-comments-button:hover{cursor:pointer}.GithubIssueComments-refresh-comments-button:disabled{text-decoration:none;-webkit-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out;opacity:.2}.GithubIssueComments-pagination{display:flex;justify-content:center;flex-wrap:wrap;padding:1rem}.GithubIssueComments-pagination-button{border:none;background:none;color:#586069;margin-bottom:.5rem}.GithubIssueComments-pagination-button:hover{cursor:pointer}.GithubIssueComments-pagination-button-active{text-decoration:underline;font-weight:700}.blog-post-preview{margin:0 auto;width:50%}@media (max-width:768px){.blog-post-preview{width:80%}}@media (max-width:480px){.blog-post-preview{width:90%}}.blog-post-preview-title{text-decoration:none;color:#353b48}.blog-post-preview-title h2{font-weight:900;-webkit-transition:color .25s ease;transition:color .25s ease;font-size:2em}@media (max-width:480px){.blog-post-preview-title h2{font-size:1.5em}}.blog-post-preview-title h2:hover{color:#01a3a4}.blog-post-preview-title h2::-moz-selection{color:#fff;background-color:#353b48}.blog-post-preview-title h2::selection{color:#fff;background-color:#353b48}.blog-post-preview-date-container,.blog-post-preview-description{font-weight:300}.blog-post-preview-date-container{font-weight:900;font-style:italic}.blog-listing-title{font-size:3em;text-align:center;color:#353b48}.blog-listing-title::-moz-selection{color:#fff;background-color:#353b48}.blog-listing-title::selection{color:#fff;background-color:#353b48}.blog-posts,.header-content{display:flex;flex-direction:column;align-items:center;color:#353b48}.header-content{font-family:Pacifico,Roboto,sans-serif;font-size:4em;justify-content:center;text-align:center}@media (max-width:992px){.header-content{font-size:3em}}@media (max-width:768px){.header-content{font-size:2em}}.header-content-title::-moz-selection{color:#fff;background-color:#353b48}.header-content-title::selection{color:#fff;background-color:#353b48}.header-content-icons{margin-top:-80px}@media (max-width:768px){.header-content-icons{margin-top:0}}.header-content-icons-icon{text-decoration:none;margin-left:10px;margin-right:10px}.header-content-icons-icon svg{fill:#353b48;width:38px;height:38px;-webkit-transition:fill .25s ease;transition:fill .25s ease}@media (max-width:768px){.header-content-icons-icon svg{width:28px;height:28px}}.header-content-icons-icon svg:hover{fill:#01a3a4}.header-content-links{display:flex;justify-content:space-between;padding-left:40px;padding-right:40px;margin-top:40px}.header-content-links a{font-family:Roboto,sans-serif;font-size:.35em;border-radius:2px;padding:10px 20px;text-decoration:none;color:#353b48;-webkit-transition:background .3s cubic-bezier(.4,0,.2,1);transition:background .3s cubic-bezier(.4,0,.2,1);border:2px solid #353b48}@media (max-width:480px){.header-content-links a{padding:7px 15px}}.header-content-links a:hover{background:#353b48;color:#fff}#project-pub-name-generator{background:#4776e6;background:-webkit-gradient(linear,left top,right top,from(#8e54e9),to(#4776e6));background:linear-gradient(90deg,#8e54e9,#4776e6)}#project-findr{background:#f2709c;background:-webkit-gradient(linear,left top,right top,from(#ff9472),to(#f2709c));background:linear-gradient(90deg,#ff9472,#f2709c)}#project-code-flow-extension{background:#396afc;background:-webkit-gradient(linear,left top,right top,from(#2948ff),to(#396afc));background:linear-gradient(90deg,#2948ff,#396afc)}#project-react-github-issue-comments-component{background:#00cdac;background:-webkit-gradient(linear,left top,right top,from(#02aabd),to(#00cdac));background:linear-gradient(90deg,#02aabd,#00cdac)}#project-pwa-timer{background:#00d2ff;background:-webkit-gradient(linear,left top,right top,from(#3a7bd5),to(#00d2ff));background:linear-gradient(90deg,#3a7bd5,#00d2ff)}#project-game-jam-games{background:#02aab0;background:-webkit-gradient(linear,left top,right top,from(#00cdac),to(#02aab0));background:linear-gradient(90deg,#00cdac,#02aab0)}.projects-container{align-items:center;margin-left:10px;margin-right:10px}.project,.projects-container{display:flex;flex-direction:column}.project{box-shadow:-4px 2em 7.5em rgba(0,0,0,.33);justify-content:center;border-radius:8px;width:100%;color:#fff;margin:40px 10px;max-width:960px;height:340px;max-height:340px}.project-title{margin:25px;font-size:3em}@media (max-width:480px){.project-title{margin:15px}}@media (max-width:768px){.project-title{font-size:2.2em}}.project-description{margin:25px;font-size:1em;max-width:60%}@media (max-width:768px){.project-description{max-width:80%}}@media (max-width:480px){.project-description{max-width:100%;margin:15px}}.project-buttons{margin:25px;font-size:1em}@media (max-width:480px){.project-buttons{margin:15px}}.project-button{border:1px solid #fff;border-radius:2px;padding:10px 20px;text-decoration:none;color:#fff;-webkit-transition:background .3s cubic-bezier(.4,0,.2,1);transition:background .3s cubic-bezier(.4,0,.2,1);margin-right:20px}@media (max-width:480px){.project-button{padding:7px 15px}}.project-button:hover{background:#fff;color:#353b48}@media (max-width:480px){.project-button{margin-right:5px}}</style><meta name="generator" content="Gatsby 2.15.28"/><title data-react-helmet="true">Building a Desktop App using Svelte and Electron | Josh Jackson - @Pjaerr</title><meta data-react-helmet="true" name="description" content="In this blogpost I show you how easy it is to build a basic markdown editor for desktop using Svelte and Electron."/><meta data-react-helmet="true" property="og:title" content="Building a Desktop App using Svelte and Electron"/><meta data-react-helmet="true" property="og:description" content="In this blogpost I show you how easy it is to build a basic markdown editor for desktop using Svelte and Electron."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image" content="/building-desktop-app-svelte-electron/cover_image.jpg"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@Pjaerr"/><meta data-react-helmet="true" name="twitter:title" content="Building a Desktop App using Svelte and Electron"/><meta data-react-helmet="true" name="twitter:description" content="In this blogpost I show you how easy it is to build a basic markdown editor for desktop using Svelte and Electron."/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=0fabb910d54d37433a07d7708e4716da"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#01a3a4"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=0fabb910d54d37433a07d7708e4716da"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=0fabb910d54d37433a07d7708e4716da"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=0fabb910d54d37433a07d7708e4716da"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=0fabb910d54d37433a07d7708e4716da"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=0fabb910d54d37433a07d7708e4716da"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=0fabb910d54d37433a07d7708e4716da"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=0fabb910d54d37433a07d7708e4716da"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=0fabb910d54d37433a07d7708e4716da"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/pacifico/v16/FwZY7-Qmy14u9lezJ-6H6Mk.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/roboto/v20/KFOlCnqEu92Fr1MmSU5fBBc4.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/roboto/v20/KFOlCnqEu92Fr1MmYUtfBBc4.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/roboto/v20/KFOmCnqEu92Fr1Mu4mxK.woff2"/><style type="text/css">@font-face{font-family:Roboto;font-style:normal;font-weight:300;src:local('Roboto Light'),local('Roboto-Light'),url(/google-fonts/s/roboto/v20/KFOlCnqEu92Fr1MmSU5fBBc4.woff2) format('woff2'),url(/google-fonts/s/roboto/v20/KFOlCnqEu92Fr1MmSU5fBBc-.woff) format('woff');font-display: swap;}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:local('Roboto'),local('Roboto-Regular'),url(/google-fonts/s/roboto/v20/KFOmCnqEu92Fr1Mu4mxK.woff2) format('woff2'),url(/google-fonts/s/roboto/v20/KFOmCnqEu92Fr1Mu4mxM.woff) format('woff');font-display: swap;}@font-face{font-family:Roboto;font-style:normal;font-weight:900;src:local('Roboto Black'),local('Roboto-Black'),url(/google-fonts/s/roboto/v20/KFOlCnqEu92Fr1MmYUtfBBc4.woff2) format('woff2'),url(/google-fonts/s/roboto/v20/KFOlCnqEu92Fr1MmYUtfBBc-.woff) format('woff');font-display: swap;}@font-face{font-family:Pacifico;font-style:normal;font-weight:400;src:local('Pacifico Regular'),local('Pacifico-Regular'),url(/google-fonts/s/pacifico/v16/FwZY7-Qmy14u9lezJ-6H6Mk.woff2) format('woff2'),url(/google-fonts/s/pacifico/v16/FwZY7-Qmy14u9lezJ-6H6M8.woff) format('woff');font-display: swap;}</style><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script>
  window.excludeGAPaths=[/^(?:\/)$/];
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-146439931-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-146439931-1', 'auto', {});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><link as="script" rel="preload" href="/app-d4e25edc1a600a68a65e.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-template-js-66a6b72eb7aed135a788.js"/><link as="script" rel="preload" href="/styles-0bada47cf1ba780b09da.js"/><link as="script" rel="preload" href="/commons-aacbc08c804c24f8f2ae.js"/><link as="script" rel="preload" href="/webpack-runtime-2531a3f59bc976d421e3.js"/><link as="fetch" rel="preload" href="/page-data\blog\building-desktop-app-svelte-electron\page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="navigation"><a class="" href="/">Home</a><a class="" href="/blog">Blog</a></div><main><div><div class="scroll-progress"><div class="scroll-progress-bar"></div></div><div class="blog-post"><article class="blog-post-container"><h1 class="sub-page-title">Building a Desktop App using Svelte and Electron</h1><section class="blog-post-content"><p>I watched a <a href="https://www.youtube.com/watch?v=ZBe--JjrEL8" target="_blank" rel="nofollow">talk</a> the other day by Felix Riesberg who talked about using JavaScript and Electron to build desktop apps and it inspired me to see how easy using <a href="https://svelte.dev" target="_blank" rel="nofollow">Svelte</a> would be. Turns out it is super easy, and just works out of the box!</p><p><em>If you just want a starter template to make your app without reading the blogpost, I created a template <a href="https://github.com/Pjaerr/svelte-electron-template" target="_blank" rel="nofollow">here</a>.</em></p><p>This blogpost will walk you through creating a basic markdown editor for the desktop using Svelte and Electron. We will be able to edit markdown files and see a side-by-side preview as well as <strong>Open Files</strong>, <strong>Create New Files</strong> and <strong>Save Files</strong> using the Electron API and NodeJS.</p><p>The finished product will look something like this:</p><p><img src="/building-desktop-app-svelte-electron/finished-application-svelte-electron.gif" alt="Finished Gif of Markdown Editor"/></p><p>Let&#x27;s get started!</p><h2>Getting Setup 🐣</h2><ol><li><p>Clone the Svelte template: <code class="language-text">npx degit sveltejs/template svelte-markdown-editor</code></p></li><li><p>CD into the new directory and run <code class="language-text">npm install</code> to install Svelte dependencies.</p></li><li><p>Run <code class="language-text">npm install electron marked</code> which will install Electron and then the marked library which we will use to convert our markdown into HTML.</p></li><li><p>In the root of the project, create a <code class="language-text">main.js</code> file, this will be our Electron entry point.</p></li><li><p>Inside of the <code class="language-text">package.json</code>, change the start script from <code class="language-text">&quot;sirv public&quot;</code> to <code class="language-text">&quot;npm run build &amp;&amp; electron main.js&quot;</code> which will build the Svelte app and then tell Electron to run it.</p></li><li><p>Edit the <code class="language-text">public/index.html</code> file so that all paths have a <code class="language-text">.</code> infront of them. EG: <code class="language-text">/build/bundle.css</code> becomes <code class="language-text">./build/bundle.css</code>. Electron won&#x27;t be able to find these files otherwise.</p></li><li><p>Finally, add the following meta tag to the head of the index.html file: <code class="language-text">&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;script-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;;&quot; /&gt;</code>. This won&#x27;t cause us any issues for this small application, but we will get a warning in our console if not.
Read more about this <a href="https://www.electronjs.org/docs/tutorial/security#csp-meta-tag" target="_blank" rel="nofollow">here</a></p></li></ol><h2>Connecting Svelte with Electron 🖇️</h2><p>Now we have the boilerplate setup, let&#x27;s connect our Svelte app with Electron by returning to the <code class="language-text">main.js</code> file we previously created.</p><p>A basic Electron app consists of an <code class="language-text">app</code> and a <code class="language-text">BrowserWindow</code> so let&#x27;s import these:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span> app<span class="token punctuation">,</span> BrowserWindow <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;electron&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>The <code class="language-text">app</code> is what we use to handle the lifecycle of the application and the <code class="language-text">BrowserWindow</code> is the actual window that will render our Svelte app.</p><p>Start by creating a new BrowserWindow once the application is ready and quitting the app once all windows are closed:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">app<span class="token punctuation">.</span><span class="token function">whenReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> mainWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BrowserWindow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    width<span class="token punctuation">:</span> <span class="token number">800</span><span class="token punctuation">,</span>
    height<span class="token punctuation">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
    webPreferences<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      nodeIntegration<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;window-all-closed&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>Note we set <code class="language-text">nodeIntegration</code> to true, this allows us to use NodeJS code within our Svelte files.</p><p>and then, underneath where you created your BrowserWindow, tell it to open the index.html file that Svelte outputs when built:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">mainWindow<span class="token punctuation">.</span><span class="token function">loadFile</span><span class="token punctuation">(</span><span class="token string">&quot;./public/index.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>Now, if you run <code class="language-text">npm start</code>, a window should open showing the basic Hello World Svelte app.</p><p><img src="/building-desktop-app-svelte-electron/basic-svelte-app.png" alt="Image of basic Svelte app"/></p><h2>Creating a Basic Markdown Editor 📝</h2><p>Before we implement the ability to open, save and create new files using the Electron API, let&#x27;s remove the Svelte boilerplate and implement a basic Markdown editor.</p><p>In the <code class="language-text">src/main.js</code> file, remove the props argument:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">App</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  target<span class="token punctuation">:</span> document<span class="token punctuation">.</span>body
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>Next, create a component called <code class="language-text">Editor.svelte</code>:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">let</span> markdown <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">section</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">min-height</span><span class="token punctuation">:</span> 95vh<span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 0.1rem solid #333<span class="token punctuation">;</span>
        <span class="token property">flex</span><span class="token punctuation">:</span> 1.5<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">textarea</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">min-height</span><span class="token punctuation">:</span> 95vh<span class="token punctuation">;</span>
        <span class="token property">resize</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- svelte-ignore a11y-autofocus --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name"><span class="token namespace">bind:</span>value</span><span class="token attr-value"><span class="token punctuation">=</span>{markdown}</span> <span class="token attr-name">autofocus</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>This component takes a prop called <code class="language-text">markdown</code> and binds it to a text area so that the markdown variable automatically updates when our text area is updated. We also autofocus the text area and remove the accessiblity warning as our application only has one input and it is the main focus of the application.</p><p>and then create a component called <code class="language-text">Preview.svelte</code>:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> marked <span class="token keyword">from</span> <span class="token string">&quot;marked&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">export</span> <span class="token keyword">let</span> markdown <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">section</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">min-height</span><span class="token punctuation">:</span> 95vh<span class="token punctuation">;</span>
        <span class="token property">margin-left</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 0.2rem<span class="token punctuation">;</span>
        <span class="token property">flex</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> #f5f5f5<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">section :global(*)</span> <span class="token punctuation">{</span>
        <span class="token property">word-break</span><span class="token punctuation">:</span> break-word<span class="token punctuation">;</span>
        <span class="token property">white-space</span><span class="token punctuation">:</span> pre-wrap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span>
    {@html marked(markdown)}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>This component takes some markdown text, and then uses the <a href="https://www.npmjs.com/package/marked" target="_blank" rel="nofollow">marked</a> library to convert it to html. We then directly output this onto the page using the Svelte <code class="language-text">{@html}</code> tag.</p><p>There&#x27;s nothing fancy with any of the styling, you&#x27;ll note we use <code class="language-text">:global(*)</code> to target everything under our section. This is because we want to target all of the HTML under the section but Svelte thinks that no HTML exists (because it is dynamically generated) so we would get the <code class="language-text">css-unused-selector</code> warning if we just used <code class="language-text">*</code>.</p><p>In the <code class="language-text">App.svelte</code> file replace everything with:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> Editor <span class="token keyword">from</span> <span class="token string">&quot;./Editor.svelte&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> Preview <span class="token keyword">from</span> <span class="token string">&quot;./Preview.svelte&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> markdown <span class="token operator">=</span> <span class="token string">&quot;# You can enter markdown here\n\n**This text is bold**\n\n_This text is italic_&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> activeFilePath<span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">main</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.file-path</span> <span class="token punctuation">{</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.editor-and-preview</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>file-path<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {activeFilePath ? activeFilePath : &quot;Press &#x27;Save&#x27; or hit &#x27;CTRL + S&#x27; to save&quot;}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>editor-and-preview<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Editor</span> <span class="token attr-name"><span class="token namespace">bind:</span>markdown</span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Preview</span> <span class="token attr-name">{markdown}</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>Here we store a <code class="language-text">markdown</code> variable and tell Svelte to bind it to whatever the value of <code class="language-text">markdown</code> is inside of the <code class="language-text">Editor</code> component which we know is bound to the text area input. So whatever we type is stored inside <code class="language-text">markdown</code> which we then pass into the <code class="language-text">Preview</code> component to be rendered as HTML. </p><p>We also store an <code class="language-text">activeFilePath</code> variable, which we will use later on to show which file is open in the editor, for now, whilst no file path exists, just show the user a message telling them how to save.</p><p>Now if you run <code class="language-text">npm start</code> you should have a usable markdown editor with a live updating preview.</p><h2>Saving Files with Electron 💾</h2><p>Now we can write our markdown, let&#x27;s give the user the ability to save what they&#x27;ve written.</p><p>In the <code class="language-text">App.svelte</code> file, import the <a href="https://www.electronjs.org/docs/api/ipc-renderer" target="_blank" rel="nofollow">ipcRenderer</a> which will allow us to both listen for messages from Electron as well as send messages to Electron:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span> ipcRenderer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;electron&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>Inside the same script tag, let&#x27;s use the <code class="language-text">ipcRenderer</code> to listen for a <code class="language-text">&quot;savefile&quot;</code> message (the message name can be anything you want), we will eventually send this message from Electron when the user clicks a menu item or uses CTRL + S.</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">ipcRenderer<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;savefile&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>Inside of this function, we want to first check if there is an activeFilePath and if there is, we want to send a message to Electron telling it to save the content inside of the markdown variable to the file at the activeFilePath and if there isn&#x27;t, we want to send a message telling Electron to ask the user where the file should be saved.</p><p>This looks like the following:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">ipcRenderer<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;savefile&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>activeFilePath<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ipcRenderer<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;saveexistingfile&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        path<span class="token punctuation">:</span> activeFilePath<span class="token punctuation">,</span>
        content<span class="token punctuation">:</span> markdown
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      ipcRenderer<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;savenewfile&quot;</span><span class="token punctuation">,</span> markdown<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>This won&#x27;t do anything yet, as we haven&#x27;t implemented the corresponding message listeners and functionality in our main process (main process is what I have been calling &quot;Electron&quot;). Let&#x27;s do that next, starting with saving a new file.</p><p>In the <code class="language-text">main.js</code> file, import Menu, MenuItem, ipcMain and dialog from electron and fs from the nodejs standard library:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">,</span>
  BrowserWindow<span class="token punctuation">,</span>
  Menu<span class="token punctuation">,</span>
  MenuItem<span class="token punctuation">,</span>
  ipcMain<span class="token punctuation">,</span>
  dialog
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;electron&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>next, create a function called <code class="language-text">createNewFile</code> inside of the <code class="language-text">app.whenReady().then</code> callback that takes a string, this function should open a dialog box to ask the user to name a file and select a location to which it should be saved and then save the file at that location, with that name containing the string provided.</p><p><em>*Documentation for <code class="language-text">dialog</code> can be found at <a href="https://www.electronjs.org/docs/api/dialog" target="_blank" rel="nofollow">https://www.electronjs.org/docs/api/dialog</a></em></p><p>Inside of the <code class="language-text">app.whenReady().then</code> callback:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">createNewFile</span> <span class="token operator">=</span> <span class="token parameter">content</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    dialog<span class="token punctuation">.</span><span class="token function">showSaveDialog</span><span class="token punctuation">(</span>mainWindow<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        title<span class="token punctuation">:</span> <span class="token string">&quot;Create New File&quot;</span><span class="token punctuation">,</span>
        properties<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;showOverwriteConfirmation&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        filters<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            name<span class="token punctuation">:</span> <span class="token string">&quot;Markdown Files&quot;</span><span class="token punctuation">,</span>
            extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;md&quot;</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> canceled<span class="token punctuation">,</span> filePath <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>canceled<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

        fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> content<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div><p>In the code above, we use <code class="language-text">Electron.dialog</code> to open a save dialog that will only save (and show) markdown files and then, if the user didn&#x27;t close the dialog, we use the <code class="language-text">fs</code> module to write the file to the file path they selected.</p><p>Now we have the function, let&#x27;s setup the code to call it when we receive a <code class="language-text">&quot;savenewfile&quot;</code> message.</p><p>In the same place, write the following code:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">ipcMain<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;savenewfile&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">createNewFile</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>There&#x27;s one last step before we can save a new file, if you remember, the message listener above only triggers when our Svelte app sends a &quot;savenewfile&quot; message, which can only be sent when our Svelte app receives a &quot;savefile&quot; message. So we must send a &quot;savefile&quot; message from Electron when the user selects save from the menu or hits CTRL + S. </p><p>You do this by creating a new Menu inside of the <code class="language-text">app.whenReady().then</code> callback and then adding MenuItem objects to it like so:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> menu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

menu<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      label<span class="token punctuation">:</span> <span class="token string">&quot;Save&quot;</span><span class="token punctuation">,</span>
      accelerator<span class="token punctuation">:</span> <span class="token string">&quot;CmdOrCtrl+S&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">click</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> mainWindow<span class="token punctuation">.</span>webContents<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;savefile&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>Here we are saying, when CTRL + S is pressed, or our menu item with the label &quot;Save&quot; is clicked, send a message to the BrowserWindow (our Svelte app) with the name <code class="language-text">&quot;savefile&quot;</code>. </p><p>One last thing, we must set our Menu as the ApplicationMenu like so:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">Menu<span class="token punctuation">.</span><span class="token function">setApplicationMenu</span><span class="token punctuation">(</span>menu<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>Now if you run <code class="language-text">npm start</code>, type some markdown, and then hit CTRL + S (or the menu item). You should see a save dialog and when you enter a name and click save, your file should now have saved to the directory you chose.</p><p>The next part is adding the message listener for when we want to save an existing file. In the same place as the previous one, add the following:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">ipcMain<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;saveexistingfile&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> <span class="token punctuation">{</span> path<span class="token punctuation">,</span> content <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> content<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>This just uses the <code class="language-text">fs</code> module to create a new file at an existing path which will overwrite the existing file with the new contents.</p><p>If this is confusing, here&#x27;s a diagram showing how messages flow between the Renderer process (our Svelte App) and the Main process (Electron):</p><p><em>(Open in new tab for fullscreen view)</em>
<img src="/building-desktop-app-svelte-electron/renderer-main-data-flow.png" alt="Diagram showing the flow between renderer and main"/></p><p>You can also read more about the Renderer and Main processes <a href="https://www.electronjs.org/docs/tutorial/application-architecture#differences-between-main-process-and-renderer-process" target="_blank" rel="nofollow">here</a></p><p>Next we will add the ability to open/save an existing file, or to create a new one using the menu.</p><h2>Opening/Saving Existing Files 📂 💾</h2><p>This works in much the same way, I would say even easier!</p><p>Start by, in the <code class="language-text">App.svelte</code> file, creating a new message listener that listens for a <code class="language-text">&quot;fileopened&quot;</code> message that contains a file path and the content inside of the file. When we get this message, update the variables so that Svelte will update our HTML:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">ipcRenderer<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;fileopened&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> <span class="token punctuation">{</span> path<span class="token punctuation">,</span> content <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    activeFilePath <span class="token operator">=</span> path<span class="token punctuation">;</span>
    markdown <span class="token operator">=</span> content<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>and then in the <code class="language-text">main.js</code> file, in the same place as the <code class="language-text">createNewFile</code> function, create a <code class="language-text">openFile</code> function that will present the user with similar dialog but for choosing an existing file:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">openFile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> file <span class="token operator">=</span> dialog<span class="token punctuation">.</span><span class="token function">showOpenDialogSync</span><span class="token punctuation">(</span>mainWindow<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      properties<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;openFile&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      filters<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&quot;Markdown Files&quot;</span><span class="token punctuation">,</span> extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;md&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>file<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;utf8&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

        mainWindow<span class="token punctuation">.</span>webContents<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;fileopened&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          path<span class="token punctuation">:</span> file<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          content<span class="token punctuation">:</span> data
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div><p>We get the user&#x27;s selection, read the file and file path and then send a <code class="language-text">&quot;fileopened&quot;</code> message to our Svelte app. Whilst we&#x27;re at it, let&#x27;s also send a <code class="language-text">&quot;fileopened&quot;</code> message in the <code class="language-text">createNewFile</code> function so that when we save the new file, it updates the activeFilePath:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> canceled<span class="token punctuation">,</span> filePath <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>canceled<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

        fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> content<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

          mainWindow<span class="token punctuation">.</span>webContents<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;fileopened&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            path<span class="token punctuation">:</span> filePath<span class="token punctuation">,</span>
            content
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>Next, let&#x27;s add a menu item and keyboard shortcut for opening files:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">menu<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      label<span class="token punctuation">:</span> <span class="token string">&quot;Open&quot;</span><span class="token punctuation">,</span>
      accelerator<span class="token punctuation">:</span> <span class="token string">&quot;CmdOrCtrl+O&quot;</span><span class="token punctuation">,</span>
      click<span class="token punctuation">:</span> openFile
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>Now if you run <code class="language-text">npm start</code>, you should be able to click the &quot;open&quot; button in the menu or hit CTRL + O and be presented with a file browser dialog. If you select an existing markdown file, it should open in the editor. We&#x27;re pretty much there!</p><p>Finally, add a new menu item that will create a new markdown file with some template content:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">menu<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">MenuItem</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      label<span class="token punctuation">:</span> <span class="token string">&quot;Create New File&quot;</span><span class="token punctuation">,</span>
      accelerator<span class="token punctuation">:</span> <span class="token string">&quot;CmdOrCtrl+N&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">click</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token function">createNewFile</span><span class="token punctuation">(</span>
          <span class="token string">&quot;# You can enter markdown here\n\n**This text is bold**\n\n_This text is italic_&quot;</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>🎉 You should now have a working markdown editor!</p><h2>Building for your current platform 🏗️</h2><p>To package the app, we can use a CLI tool called <a href="https://www.npmjs.com/package/electron-packager" target="_blank" rel="nofollow">electron-packager</a></p><ol><li><p>First start by installing the package locally: <code class="language-text">npm install electron-packager --save-dev</code></p></li><li><p>Then remove the <code class="language-text">sirv-cli</code> package from the package.json file (we don&#x27;t need this for an electron app).</p></li><li><p>Move the <code class="language-text">electron</code> package into the <code class="language-text">devDependencies</code></p></li><li><p>Add a &quot;main&quot; property to the package json that points to the entry file: <code class="language-text">&quot;main&quot;: &quot;./main.js&quot;</code></p></li><li><p>Add a &quot;productName&quot; property to the package json: <code class="language-text">&quot;productName&quot;: &quot;markdown-editor&quot;</code></p></li><li><p>Add a &quot;package&quot; script to the scripts: <code class="language-text">&quot;package&quot;: &quot;npm install &amp;&amp; npm run build &amp;&amp; electron-packager .&quot;</code></p></li><li><p>Run <code class="language-text">npm run package</code> to build your electron app for your current platform</p></li></ol><p>This will create a folder with your executable in (on windows) and the relevant files if on mac os. You can check out the electron-packager docs <a href="https://www.npmjs.com/package/electron-packager" target="_blank" rel="nofollow">here</a> for more information.</p><h2>Conclusion</h2><p>With very little code we&#x27;ve managed to build a very basic markdown editor using Svelte and Electron. This blogpost was really just a whistle-stop tour of how to get started, if you want to properly make something, please use the official Electron <a href="https://www.electronjs.org/docs" target="_blank" rel="nofollow">docs</a> or more indepth <a href="https://www.electronjs.org/docs/tutorial" target="_blank" rel="nofollow">tutorials</a>.</p><p><strong>Some Extra Notes</strong></p><ul><li><p>We used the Electron and Node APIs by sending messages between the Renderer process (Svelte) and the Main process (Electron). An alternative to this is to <a href="https://www.electronjs.org/docs/api/remote" target="_blank" rel="nofollow">use the Electron and Node APIs directly in our Svelte files</a>.</p></li><li><p>This was my first experiment with Electron, please take this guide/tutorial as more of an intro to how it <em>could</em> be used and not how it <em>should</em> be used.</p></li></ul><p>PS: I will be giving a really short lightning talk on this in March at the <a href="https://www.meetup.com/svelte/events/268428373/" target="_blank" rel="nofollow">Svelte London Meetup</a>.</p></section><section class="GithubIssueComments-container"><button class="GithubIssueComments-show-comments-button">Show Comments</button></section><aside class="blog-post-author"><div class="blog-post-author-content"><h1>If you enjoyed this post you can read my other blog posts<!-- --> <a href="/blog">here</a> or follow me on twitter<!-- --> <a href="https://twitter.com/Pjaerr" target="_blank" rel="noopener noreferrer">@Pjaerr</a></h1></div></aside></article></div></div></main></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/building-desktop-app-svelte-electron";window.webpackCompilationHash="4d58f8e1c91a78d7a280";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-d4e25edc1a600a68a65e.js"],"component---src-templates-blog-post-template-js":["/component---src-templates-blog-post-template-js-66a6b72eb7aed135a788.js"],"component---src-pages-404-js":["/component---src-pages-404-js-c45a1bbee635890c4e8a.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-1a7eae195935085b4c4d.js"],"component---src-pages-index-js":["/component---src-pages-index-js-a8dde40b4781b0f492f4.js"]};/*]]>*/</script><script src="/webpack-runtime-2531a3f59bc976d421e3.js" async=""></script><script src="/commons-aacbc08c804c24f8f2ae.js" async=""></script><script src="/styles-0bada47cf1ba780b09da.js" async=""></script><script src="/component---src-templates-blog-post-template-js-66a6b72eb7aed135a788.js" async=""></script><script src="/app-d4e25edc1a600a68a65e.js" async=""></script></body></html>