<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.5f172882cbe3d7c32a31.css">code[class*=language-],pre[class*=language-]{color:#1e272e;font-family:Fira Mono,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;color:#1e272e}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8ca6a6}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol{color:#0094f0}.token.selector,.token.tag{color:#e64100}.token.builtin,.token.char,.token.inserted,.token.string,.token.url{color:#00b368}.token.attr-name{color:#a88c00}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword,.token.operator{color:#ff5792}.token.class-name,.token.function{color:#00bdd6}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}body.dark code[class*=language-],body.dark pre[class*=language-]{color:#f8f8f2;text-shadow:0 1px rgba(0,0,0,.3);font-family:Fira Mono,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.35;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}body.dark pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:0;border:0}body.dark :not(pre)>code[class*=language-],body.dark pre[class*=language-]{background:#223545}body.dark :not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;color:#c7ecee}body.dark .prism-show-language{background:#1f4662;border-top:2px solid #ffc600;text-align:right;padding:5px;color:#fff;font-size:11px}body.dark .prism-show-language+pre{margin-top:0}body.dark .token.cdata,body.dark .token.comment,body.dark .token.doctype,body.dark .token.prolog{color:#08f}body.dark .token.comment,body.dark .token.italic{font-style:italic}body.dark .token.punctuation{color:#f8f8f2}body.dark .namespace{opacity:.7}body.dark .token.constant,body.dark .token.deleted,body.dark .token.property,body.dark .token.symbol,body.dark .token.tag{color:#f92672}body.dark .token.boolean,body.dark .token.number{color:#ff628c}body.dark .token.attr-name,body.dark .token.builtin,body.dark .token.char,body.dark .token.inserted,body.dark .token.selector,body.dark .token.string{color:#3ad900}body.dark .language-css .token.string,body.dark .style .token.string,body.dark .token.entity,body.dark .token.operator,body.dark .token.url,body.dark .token.variable{color:#f8f8f2}body.dark .token.atrule,body.dark .token.attr-value{color:#ffc600}body.dark .token.keyword.keyword-function{color:#ffa5f3;background:#1d3c52;padding:4px 2px}body.dark .token.keyword,body.dark .token.operator{color:#ff9d00}body.dark .token.class-name,body.dark .token.function,body.dark .token.keyword.keyword-const,body.dark .token.keyword.keyword-let,body.dark .token.keyword.keyword-var{color:#ffc600}body.dark .token.important,body.dark .token.regex{color:#fd971f}body.dark .token.bold,body.dark .token.important{font-weight:700}body.dark .token.entity{cursor:help}body.dark .language-css .token.boolean,body.dark .language-css .token.number,body.dark .token.hexcode,body.dark code.language-css{color:#edf080}body.dark .language-css .token.selector{color:#9effff}body.dark .language-css .token.attribute,body.dark .language-css .token.class,body.dark .language-css .token.selector .token.class{color:#3ad900}body.dark .language-css .token.property{color:#9df39f}body.dark .token.pseudo-class{color:#ff9a1a}body.dark .language-markup .token.tag,body.dark .token.doctype{color:#9effff}body.dark .language-markup .attr-name{color:#ffc600;font-style:italic}body.dark .language-markup .attr-value{color:#3ad900}body.dark .language-markdown .title{background:#000;color:#fdc500}body.dark .language-markdown .url{color:#3ad900}body.dark .language-markdown .list.punctuation{color:#ff9a1a}body.dark .language-json .property{color:#3ad900}body.dark .language-json .operator{color:#f8f8f2}body.dark code.language-scss{color:#e68885}body.dark .language-scss .property{color:#80ffbb}body.dark .language-scss .keyword{color:#ff9a1a}body.dark .language-scss .token.variable{color:#ccc}body.dark .language-scss .hexcode{color:#f85b79}body.dark .language-scss .function{color:#fff}.GithubIssueComments-container{display:flex;flex-direction:column;width:100%;font-size:.8em;margin-top:20px;margin-bottom:20px}@media (min-width:480px){.GithubIssueComments-container{font-size:1em}}.GithubIssueComments-comment{display:flex;flex-direction:row;margin-top:10px;margin-bottom:20px}.GithubIssueComments-comment-user-avatar{width:20px;height:20px;margin-right:5px}@media (max-width:380px){.GithubIssueComments-comment-user-avatar{display:none}}@media (min-width:480px){.GithubIssueComments-comment-user-avatar{width:40px;height:40px;margin-right:10px}}.GithubIssueComments-comment-user-avatar>img{width:100%;height:100%;border-radius:3px;-o-object-fit:cover;object-fit:cover}.GithubIssueComments-comment-box{border:1px solid rgba(149,157,165,.5);border-radius:3px;color:#24292e;width:100%;overflow:hidden}.GithubIssueComments-comment-box-header{border-bottom:1px solid rgba(149,157,165,.5);background-color:#f6f8fa;height:34px;display:flex;justify-content:flex-start;align-items:center;padding:.5rem}.GithubIssueComments-comment-box-header-isOwner{background-color:#f1f8ff}.GithubIssueComments-comment-box-header-username{font-weight:700}.GithubIssueComments-comment-box-header-username>span{font-weight:400;color:#586069}.GithubIssueComments-comment-box-body{background-color:#fff;padding:.8rem}.GithubIssueComments-comment-box-body>p{overflow-wrap:break-word}.GithubIssueComments-comment-box-body>p>blockquote{margin:0;padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.GithubIssueComments-comment-box-body>p pre,code{overflow-x:auto}.GithubIssueComments-new-comment-button{display:flex;justify-content:center;align-items:center;min-width:12rem;min-height:2.5rem;padding-left:.5rem;padding-right:.5rem;margin:10px auto 0;border-radius:3px;background-color:#28a745;color:#fff;text-align:center;font-weight:700;text-decoration:none}.GithubIssueComments-loading-icon{width:40px;height:40px;background-color:#6a737d;margin:30px auto 0;animation:sk-rotateplane 1.5s ease-in-out infinite}@keyframes sk-rotateplane{0%{transform:perspective(120px) rotateX(0deg) rotateY(0deg);-webkit-transform:perspective(120px) rotateX(0deg) rotateY(0deg)}50%{transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg);-webkit-transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg)}to{transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg);-webkit-transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)}}.GithubIssueComments-no-comments-found{display:flex;justify-content:center;align-items:center;padding:1rem}.GithubIssueComments-show-comments-button{display:flex;justify-content:center;align-items:center;margin:0 auto;width:12rem;height:2.5rem;padding-left:.5rem;padding-right:.5rem;border:1px solid #586069;border-radius:3px;background-color:#fff;color:#586069;transition:background-color .3s cubic-bezier(.4,0,.2,1)}.GithubIssueComments-show-comments-button:hover{background-color:#586069;color:#fff}.GithubIssueComments-refresh-comments-button{border:none;background:none;display:flex;justify-content:center;align-items:center;color:#586069;text-decoration:underline;font-size:.8em;margin:20px auto 15px}.GithubIssueComments-refresh-comments-button:hover{cursor:pointer}.GithubIssueComments-refresh-comments-button:disabled{text-decoration:none;transition:opacity .2s ease-in-out;opacity:.2}.GithubIssueComments-pagination{display:flex;justify-content:center;flex-wrap:wrap;padding:1rem}.GithubIssueComments-pagination-button{border:none;background:none;color:#586069;margin-bottom:.5rem}.GithubIssueComments-pagination-button:hover{cursor:pointer}.GithubIssueComments-pagination-button-active{text-decoration:underline;font-weight:700}body.dark .GithubIssueComments-comment-box{border:none;color:#24292e}body.dark .GithubIssueComments-comment-box-body,body.dark .GithubIssueComments-loading-icon{background-color:#fff}body.dark .GithubIssueComments-show-comments-button{border:1px solid #fff;background-color:transparent;color:#fff}body.dark .GithubIssueComments-show-comments-button:hover{background-color:#fff;color:#586069}body.dark .GithubIssueComments-pagination-button,body.dark .GithubIssueComments-refresh-comments-button{color:#fff}</style><meta name="generator" content="Gatsby 2.20.15"/><title data-react-helmet="true">Lets Create: A Data Visualization using Svelte | Josh Jackson - @Pjaerr</title><meta data-react-helmet="true" name="description" content="In this article we&#x27;ll create a data visualization using the Svelte.js framework that shows, on a map of the UK, which regions have contributed most to English Premier League title wins since its creation in 1992."/><meta data-react-helmet="true" property="og:title" content="Lets Create: A Data Visualization using Svelte"/><meta data-react-helmet="true" property="og:description" content="In this article we&#x27;ll create a data visualization using the Svelte.js framework that shows, on a map of the UK, which regions have contributed most to English Premier League title wins since its creation in 1992."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image" content="https://joshuaj.co.uk/lets-create-data-vis-svelte/overview-component.jpg"/><meta data-react-helmet="true" name="twitter:image" content="https://joshuaj.co.uk/lets-create-data-vis-svelte/overview-component.jpg"/><meta data-react-helmet="true" property="og:image:width" content="1200"/><meta data-react-helmet="true" property="og:image:height" content="630"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@Pjaerr"/><meta data-react-helmet="true" name="twitter:title" content="Lets Create: A Data Visualization using Svelte"/><meta data-react-helmet="true" name="twitter:description" content="In this article we&#x27;ll create a data visualization using the Svelte.js framework that shows, on a map of the UK, which regions have contributed most to English Premier League title wins since its creation in 1992."/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="alternate" type="application/rss+xml" title="Josh Jackson - @Pjaerr | RSS Feed" href="/rss.xml"/><style data-styled="" data-styled-version="5.1.0">.fuyTsK{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:40px;margin-bottom:40px;margin-left:-10%;width:calc(100% + (10% * 2));}/*!sc*/
@media (min-width:768px){.fuyTsK{margin-left:0;margin-right:0;width:100%;}}/*!sc*/
.fuyTsK video{max-width:100%;margin-bottom:10px;}/*!sc*/
.fuyTsK figcaption{font-family:"Fira Mono";font-size:0.875em;}/*!sc*/
data-styled.g1[id="Video__VideoContainer-ugyrsd-0"]{content:"fuyTsK,"}/*!sc*/
.hTxBiT{-webkit-transform:translateY(-2000px);-ms-transform:translateY(-2000px);transform:translateY(-2000px);-webkit-transition-property:background-color,color;transition-property:background-color,color;-webkit-transition-duration:0.25s;transition-duration:0.25s;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;background-color:initial;position:absolute;top:0;left:0;bottom:0;right:0;z-index:10;padding:0;display:grid;grid-template-rows:auto 1fr;grid-row-gap:20px;}/*!sc*/
@media (min-width:768px){.hTxBiT{-webkit-transform:translateX(0px);-ms-transform:translateX(0px);transform:translateX(0px);-webkit-transition:background-color 0s ease-out;transition:background-color 0s ease-out;background-color:initial;position:relative;grid-template-rows:1fr;grid-template-columns:1fr 1fr;padding:20px 10% 20px 10%;}}/*!sc*/
data-styled.g7[id="NavigationStyles__Nav-nyoyvp-0"]{content:"hTxBiT,"}/*!sc*/
.qlJep{display:grid;grid-template-columns:1fr auto;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transform:translateY(2000px);-ms-transform:translateY(2000px);transform:translateY(2000px);-webkit-transition:-webkit-transform 0s ease-in;-webkit-transition:transform 0s ease-in;transition:transform 0s ease-in;padding:20px 10% 20px 10%;}/*!sc*/
.qlJep a{justify-self:start;font-size:1.125em;-webkit-text-decoration:underline;text-decoration:underline;font-weight:bold;color:var(--colour-text-heading);font-weight:bold;}/*!sc*/
.qlJep a:hover{color:var(----colour-highlight);}/*!sc*/
.qlJep button{justify-self:end;background:none;outline:none;border:none;width:48px;height:48px;position:relative;cursor:pointer;}/*!sc*/
.qlJep button svg{width:32px;height:32px;fill:var(--colour-text-heading);}/*!sc*/
@media (min-width:768px){.qlJep{-webkit-transform:translateX(0px);-ms-transform:translateX(0px);transform:translateX(0px);grid-template-columns:1fr;grid-template-rows:auto;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;padding:0;}.qlJep button{display:none;}.qlJep a{color:var(--colour-text-heading);}.qlJep a:hover{color:var(--colour-highlight);}}/*!sc*/
data-styled.g8[id="NavigationStyles__NavHeader-nyoyvp-1"]{content:"qlJep,"}/*!sc*/
.gJBdJ{display:none;grid-template-rows:3fr 1fr;grid-row-gap:25px;}/*!sc*/
.gJBdJ ul{display:grid;grid-template-rows:auto auto auto;grid-row-gap:25px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;list-style:none;margin:0;padding:0;}/*!sc*/
.gJBdJ ul li{margin:0 auto;}/*!sc*/
.gJBdJ ul li a{font-size:1.875em;color:var(--colour-mobile-menu-text);font-weight:bold;}/*!sc*/
.gJBdJ ul li a:hover{color:var(--colour-mobile-menu-text-hover);}/*!sc*/
.gJBdJ ul li a svg{fill:var(--colour-mobile-menu-text);}/*!sc*/
.gJBdJ ul li a svg:hover{fill:var(--colour-mobile-menu-text-hover);}/*!sc*/
@media (min-width:768px){.gJBdJ{display:grid;grid-template-columns:auto auto;grid-template-rows:auto;grid-column-gap:50px;-webkit-box-pack:end;-webkit-justify-content:end;-ms-flex-pack:end;justify-content:end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.gJBdJ ul{grid-template-columns:1fr 1fr 1fr;grid-column-gap:25px;grid-row-gap:0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.gJBdJ ul li a{font-size:1.125em;color:var(--colour-text-heading);font-weight:bold;}.gJBdJ ul li a:hover{color:var(--colour-highlight);}.gJBdJ ul li a svg{fill:var(--colour-text-heading);width:32px;height:32px;}.gJBdJ ul li a svg:hover{fill:var(--colour-highlight);}}/*!sc*/
data-styled.g9[id="NavigationStyles__NavLinks-nyoyvp-2"]{content:"gJBdJ,"}/*!sc*/
.NPmAf{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;justify-self:center;}/*!sc*/
.NPmAf:hover{cursor:pointer;}/*!sc*/
.NPmAf input{-webkit-clip:rect(0 0 0 0);clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;}/*!sc*/
@media (min-width:768px){.NPmAf{margin-bottom:5px;}}/*!sc*/
data-styled.g10[id="NavigationStyles__ThemeSwitcherLabel-nyoyvp-3"]{content:"NPmAf,"}/*!sc*/
.bmmJQH:before{background-color:var(--colour-text-heading);-webkit-transition:-webkit-transform 0.2s ease-in;-webkit-transition:transform 0.2s ease-in;transition:transform 0.2s ease-in;content:"";width:26px;height:5px;margin-top:-2.5px;display:inline-block;}/*!sc*/
.bmmJQH:after{background-color:var(--colour-text-heading);-webkit-transition:-webkit-transform 0.25s ease-in;-webkit-transition:transform 0.25s ease-in;transition:transform 0.25s ease-in;content:"";width:26px;height:5px;margin-top:-2.5px;display:inline-block;}/*!sc*/
data-styled.g11[id="NavigationStyles__MenuIcon-nyoyvp-4"]{content:"bmmJQH,"}/*!sc*/
.ljjsYD{fill:var(--colour-text-body);}/*!sc*/
.ljjsYD:hover{fill:var(----colour-highlight);}/*!sc*/
.Gzdxf{fill:var(--colour-text-body);}/*!sc*/
data-styled.g12[id="SVGIcon__SVG-sc-1rlxxk7-0"]{content:"ljjsYD,Gzdxf,"}/*!sc*/
.hZSfqs{position:fixed;top:0;z-index:1;width:100%;height:4px;}/*!sc*/
.hZSfqs div{height:4px;background:var(--colour-highlight);width:0%;}/*!sc*/
data-styled.g13[id="ScrollProgressBar__Container-hiuh85-0"]{content:"hZSfqs,"}/*!sc*/
.bpXHJg{margin-top:40px;margin-bottom:40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
.bpXHJg p{font-weight:bold;text-align:center;font-size:1.125em;}/*!sc*/
@media (min-width:768px){.bpXHJg p{font-size:1.25em;}}/*!sc*/
data-styled.g14[id="BlogpostEnd__Container-sc-1v5rsh7-0"]{content:"bpXHJg,"}/*!sc*/
.deHjxH{max-width:100%;}/*!sc*/
@media (min-width:980px){.deHjxH{max-width:50em;}}/*!sc*/
data-styled.g15[id="BlogPostTemplateStyles__BlogpostContainer-hcbxnd-0"]{content:"deHjxH,"}/*!sc*/
.cMnxBp{font-size:1.563em;}/*!sc*/
@media (min-width:480px){.cMnxBp{font-size:2.813em;}}/*!sc*/
data-styled.g16[id="BlogPostTemplateStyles__BlogpostTitle-hcbxnd-1"]{content:"cMnxBp,"}/*!sc*/
.gqLktq{margin-bottom:35px;}/*!sc*/
@media (min-width:768px){.gqLktq{margin-bottom:70px;}}/*!sc*/
data-styled.g17[id="BlogPostTemplateStyles__BlogpostDate-hcbxnd-2"]{content:"gqLktq,"}/*!sc*/
.hBveAO{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-weight:normal;width:100%;max-width:100%;}/*!sc*/
.hBveAO h1,.hBveAO h2,.hBveAO h3,.hBveAO h4,.hBveAO h5{font-weight:bold;}/*!sc*/
.hBveAO h2{margin-top:40px;margin-bottom:20px;font-size:1.375em;}/*!sc*/
@media (min-width:980px){.hBveAO h2{font-size:1.563em;}}/*!sc*/
.hBveAO .heading-link-icon{margin-right:10px;}/*!sc*/
.hBveAO p{font-size:1.125em;max-width:100%;word-break:break-word;line-height:30px;}/*!sc*/
@media (min-width:768px){.hBveAO p{font-size:1.25em;}}/*!sc*/
.hBveAO h1::selection,.hBveAO h2::selection,.hBveAO h3::selection,.hBveAO h4::selection,.hBveAO h5::selection,.hBveAO p::selection,.hBveAO em::selection,.hBveAO b::selection{color:var(--colour-background);background-color:var(--colour-text-heading);}/*!sc*/
.hBveAO a{font-weight:bold;-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.hBveAO code{overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;}/*!sc*/
.hBveAO .gatsby-code-title{background-color:var(--colour-code-title);color:var(--colour-text-body);padding-top:0.5em;text-align:center;padding-bottom:0.5em;margin-bottom:-8px;border-top-left-radius:0.3em;border-top-right-radius:0.3em;margin-left:-10%;width:calc(100% + (10% * 2));}/*!sc*/
@media (min-width:768px){.hBveAO .gatsby-code-title{margin-left:0;margin-right:0;width:100%;}}/*!sc*/
.hBveAO .gatsby-highlight{font-weight:500;margin-left:-10%;width:calc(100% + (10% * 2));}/*!sc*/
@media (min-width:768px){.hBveAO .gatsby-highlight{margin-left:0;margin-right:0;width:100%;}}/*!sc*/
.hBveAO .gatsby-highlight pre{border-radius:0;}/*!sc*/
.hBveAO .gatsby-highlight pre code{white-space:pre-wrap;word-wrap:break-word;}/*!sc*/
.hBveAO .gatsby-highlight-code-line{width:100%;background-color:var(--colour-code-highlight);display:block;padding-right:1em;padding-left:0.75em;margin-left:-1em;border-left:0.25em solid var(--colour-code-highlight-sidebar);}/*!sc*/
.hBveAO ul,.hBveAO ol{list-style:none;padding-left:0;max-width:100%;}/*!sc*/
.hBveAO ul li,.hBveAO ol li{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:baseline;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;line-height:32px;margin-bottom:25px;font-size:1.125em;}/*!sc*/
@media (min-width:768px){.hBveAO ul li,.hBveAO ol li{font-size:1.25em;}}/*!sc*/
.hBveAO ul li p,.hBveAO ol li p{display:inline;font-size:inherit;}/*!sc*/
.hBveAO ul li *,.hBveAO ol li *{margin-right:4px;margin-left:4px;}/*!sc*/
.hBveAO ul li::before{content:"꘎";padding-right:16px;color:var(--colour-highlight);font-size:1.25em;font-weight:bold;}/*!sc*/
.hBveAO ol{counter-reset:list-number;}/*!sc*/
.hBveAO ol li{counter-increment:list-number;}/*!sc*/
.hBveAO ol li::before{content:counter(list-number) ".";padding-right:16px;color:var(--colour-highlight);font-size:1.25em;font-style:italic;font-weight:bold;}/*!sc*/
data-styled.g18[id="BlogPostTemplateStyles__BlogpostContent-hcbxnd-3"]{content:"hBveAO,"}/*!sc*/
body,html{margin:0;padding:0;border:0;font-family:"IBM Plex Sans",sans-serif;}/*!sc*/
body{--colour-background:#fff;--colour-text-heading:#2a2f36;--colour-text-body:#353b48;--colour-highlight:#0097A7;--colour-mobile-menu-background:rgba(1,163,164,0.99);--colour-mobile-menu-text:#fff;--colour-mobile-menu-text-hover:#2a2f36;--colour-code-highlight:#feb;--colour-code-highlight-sidebar:#f99;--colour-code-title:#F5F6FA;font-weight:500;background-color:var(--colour-background);color:var(--colour-text-body);-webkit-transition-property:background-color,color;transition-property:background-color,color;-webkit-transition-duration:0.25s;transition-duration:0.25s;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;font-size:1em;}/*!sc*/
body.dark{--colour-background:#282c35;--colour-text-heading:#fff;--colour-text-body:#dcdde1;--colour-highlight:#01cbcb;--colour-mobile-menu-background:rgba(63,67,77,0.99);--colour-mobile-menu-text-hover:rgba(1,163,164,0.99);--colour-code-highlight:#1e2f3e;--colour-code-highlight-sidebar:#fbc531;--colour-code-title:#576574;}/*!sc*/
html.menu-open,body.menu-open{height:100%;overflow:hidden;}/*!sc*/
h1,h2,h3,h4,h5{margin:0;color:var(--colour-text-heading);}/*!sc*/
a{color:var(--colour-highlight);-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.25s ease;transition:color 0.25s ease;}/*!sc*/
a:hover{color:var(--colour-text-body);}/*!sc*/
main{margin-left:10%;margin-right:10%;margin-bottom:120px;}/*!sc*/
@media (min-width:768px){main.blogpost-layout{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}}/*!sc*/
.layout-header{height:120px;}/*!sc*/
data-styled.g31[id="sc-global-ayxrs1"]{content:"sc-global-ayxrs1,"}/*!sc*/
</style><link rel="icon" href="/icons/icon-48x48.png?v=9b37d5638b56c95b9c1f5534c17bba5f"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#01a3a4"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=9b37d5638b56c95b9c1f5534c17bba5f"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=9b37d5638b56c95b9c1f5534c17bba5f"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=9b37d5638b56c95b9c1f5534c17bba5f"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=9b37d5638b56c95b9c1f5534c17bba5f"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=9b37d5638b56c95b9c1f5534c17bba5f"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=9b37d5638b56c95b9c1f5534c17bba5f"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=9b37d5638b56c95b9c1f5534c17bba5f"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=9b37d5638b56c95b9c1f5534c17bba5f"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/firamono/v8/N0bS2SlFPv1weGeLZDto1d3HnvfU.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/firamono/v8/N0bS2SlFPv1weGeLZDtondvHnvfU.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/ibmplexsans/v7/zYX9KVElMYYaJe8bpLHnCwDKjSL9AIFsdA.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/ibmplexsans/v7/zYX9KVElMYYaJe8bpLHnCwDKjWr7AIFsdA.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/ibmplexsans/v7/zYXgKVElMYYaJe8bpLHnCwDKhdHeFQ.woff2"/><style type="text/css">@font-face{font-family:'IBM Plex Sans';font-style:normal;font-weight:400;src:local('IBM Plex Sans'),local('IBMPlexSans'),url(/google-fonts/s/ibmplexsans/v7/zYXgKVElMYYaJe8bpLHnCwDKhdHeFQ.woff2) format('woff2'),url(/google-fonts/s/ibmplexsans/v7/zYXgKVElMYYaJe8bpLHnCwDKhdHeEw.woff) format('woff');font-display: swap;}@font-face{font-family:'IBM Plex Sans';font-style:normal;font-weight:500;src:local('IBM Plex Sans Medium'),local('IBMPlexSans-Medium'),url(/google-fonts/s/ibmplexsans/v7/zYX9KVElMYYaJe8bpLHnCwDKjSL9AIFsdA.woff2) format('woff2'),url(/google-fonts/s/ibmplexsans/v7/zYX9KVElMYYaJe8bpLHnCwDKjSL9AIFscg.woff) format('woff');font-display: swap;}@font-face{font-family:'IBM Plex Sans';font-style:normal;font-weight:700;src:local('IBM Plex Sans Bold'),local('IBMPlexSans-Bold'),url(/google-fonts/s/ibmplexsans/v7/zYX9KVElMYYaJe8bpLHnCwDKjWr7AIFsdA.woff2) format('woff2'),url(/google-fonts/s/ibmplexsans/v7/zYX9KVElMYYaJe8bpLHnCwDKjWr7AIFscg.woff) format('woff');font-display: swap;}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:500;src:local('Fira Mono Medium'),local('FiraMono-Medium'),url(/google-fonts/s/firamono/v8/N0bS2SlFPv1weGeLZDto1d3HnvfU.woff2) format('woff2'),url(/google-fonts/s/firamono/v8/N0bS2SlFPv1weGeLZDto1d3HnvfS.woff) format('woff');font-display: swap;}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:700;src:local('Fira Mono Bold'),local('FiraMono-Bold'),url(/google-fonts/s/firamono/v8/N0bS2SlFPv1weGeLZDtondvHnvfU.woff2) format('woff2'),url(/google-fonts/s/firamono/v8/N0bS2SlFPv1weGeLZDtondvHnvfS.woff) format('woff');font-display: swap;}</style><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script>
  window.excludeGAPaths=[/^(?:\/)$/];
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-146439931-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-146439931-1', 'auto', {});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><link as="script" rel="preload" href="/styles-1bb458fe328f2ce5df8e.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-template-js-1ca61e09213f5ba91f7d.js"/><link as="script" rel="preload" href="/a41fe35e98afd0b1499457e30a7a2f454f628b37-ca9d42fee389d0cce62e.js"/><link as="script" rel="preload" href="/framework-37b45856124a722f0eb5.js"/><link as="script" rel="preload" href="/app-26b0f76e619f0f82c78b.js"/><link as="script" rel="preload" href="/webpack-runtime-0fa6871a2a98f993806a.js"/><link as="fetch" rel="preload" href="/page-data\blog\lets-create-data-vis-svelte\page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data\app-data.json" crossorigin="anonymous"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="layout-header"><nav class="NavigationStyles__Nav-nyoyvp-0 hTxBiT"><div class="NavigationStyles__NavHeader-nyoyvp-1 qlJep"><a href="/">Josh Jackson</a><button aria-label="toggle mobile menu"><span class="NavigationStyles__MenuIcon-nyoyvp-4 bmmJQH"></span></button></div><div class="NavigationStyles__NavLinks-nyoyvp-2 gJBdJ"><ul><li><a aria-label="visit my github page" href="https://github.com/pjaerr" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="48" height="48" viewBox="0 0 24 24" class="SVGIcon__SVG-sc-1rlxxk7-0 ljjsYD"><path d="M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H14.56C14.24,20.93 14.23,20.32 14.23,20.11L14.24,17.64C14.24,16.8 13.95,16.25 13.63,15.97C15.64,15.75 17.74,15 17.74,11.53C17.74,10.55 17.39,9.74 16.82,9.11C16.91,8.89 17.22,7.97 16.73,6.73C16.73,6.73 15.97,6.5 14.25,7.66C13.53,7.46 12.77,7.36 12,7.35C11.24,7.36 10.46,7.46 9.75,7.66C8.03,6.5 7.27,6.73 7.27,6.73C6.78,7.97 7.09,8.89 7.18,9.11C6.61,9.74 6.26,10.55 6.26,11.53C6.26,15 8.36,15.75 10.36,16C10.1,16.2 9.87,16.6 9.79,17.18C9.27,17.41 7.97,17.81 7.17,16.43C7.17,16.43 6.69,15.57 5.79,15.5C5.79,15.5 4.91,15.5 5.73,16.05C5.73,16.05 6.32,16.33 6.73,17.37C6.73,17.37 7.25,19.12 9.76,18.58L9.77,20.11C9.77,20.32 9.75,20.93 9.43,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3Z"></path></svg></a></li><li><a aria-label="visit my linkedin profile" href="https://www.linkedin.com/in/joshua-jackson-53b9bb14b/" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="48" height="48" viewBox="0 0 24 24" class="SVGIcon__SVG-sc-1rlxxk7-0 ljjsYD"><path d="M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3H19M18.5,18.5V13.2A3.26,3.26 0 0,0 15.24,9.94C14.39,9.94 13.4,10.46 12.92,11.24V10.13H10.13V18.5H12.92V13.57C12.92,12.8 13.54,12.17 14.31,12.17A1.4,1.4 0 0,1 15.71,13.57V18.5H18.5M6.88,8.56A1.68,1.68 0 0,0 8.56,6.88C8.56,5.95 7.81,5.19 6.88,5.19A1.69,1.69 0 0,0 5.19,6.88C5.19,7.81 5.95,8.56 6.88,8.56M8.27,18.5V10.13H5.5V18.5H8.27Z"></path></svg></a></li><li><a aria-label="visit my twitter profile" href="https://twitter.com/Pjaerr" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="48" height="48" viewBox="0 0 24 24" class="SVGIcon__SVG-sc-1rlxxk7-0 ljjsYD"><path d="M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M17.71,9.33C18.19,8.93 18.75,8.45 19,7.92C18.59,8.13 18.1,8.26 17.56,8.33C18.06,7.97 18.47,7.5 18.68,6.86C18.16,7.14 17.63,7.38 16.97,7.5C15.42,5.63 11.71,7.15 12.37,9.95C9.76,9.79 8.17,8.61 6.85,7.16C6.1,8.38 6.75,10.23 7.64,10.74C7.18,10.71 6.83,10.57 6.5,10.41C6.54,11.95 7.39,12.69 8.58,13.09C8.22,13.16 7.82,13.18 7.44,13.12C7.81,14.19 8.58,14.86 9.9,15C9,15.76 7.34,16.29 6,16.08C7.15,16.81 8.46,17.39 10.28,17.31C14.69,17.11 17.64,13.95 17.71,9.33Z"></path></svg></a></li></ul><label aria-label="toggle light theme" class="NavigationStyles__ThemeSwitcherLabel-nyoyvp-3 NPmAf"><input type="checkbox" class="theme-switcher-checkbox"/><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="36" height="38" viewBox="0 0 24 24" class="SVGIcon__SVG-sc-1rlxxk7-0 Gzdxf"><path d="M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M11,18H13V15.87C14.73,15.43 16,13.86 16,12A4,4 0 0,0 12,8A4,4 0 0,0 8,12C8,13.86 9.27,15.43 11,15.87V18Z" fill="#fff"></path></svg></label></div></nav></header><div class="ScrollProgressBar__Container-hiuh85-0 hZSfqs"><div></div></div><main class="blogpost-layout"><article class="BlogPostTemplateStyles__BlogpostContainer-hcbxnd-0 deHjxH"><h1 class="BlogPostTemplateStyles__BlogpostTitle-hcbxnd-1 cMnxBp">Lets Create: A Data Visualization using Svelte</h1><p class="BlogPostTemplateStyles__BlogpostDate-hcbxnd-2 gqLktq">January 08, 2020</p><section class="BlogPostTemplateStyles__BlogpostContent-hcbxnd-3 hBveAO"><p>If you haven&#x27;t heard of <a href="https://svelte.dev/" target="_blank" rel="nofollow">Svelte</a>, it is a relatively new JavaScript framework that challenges the norm by shifting the bulk of the work from the browser to the compile/build step.</p><p>In doing that, it brings many benefits, most notably, the ability to ship less code to the browser (as you don&#x27;t need the entire library like with frameworks such as React or Vue) as well as a bunch more stuff that I won&#x27;t be talking about in this article as, in my opinion, the main benefit of Svelte is how easy it is to get started and how nice it is to use from a development perspective.</p><h2>What are we going to build?</h2><p>So now we have gotten the intro out of the way, let&#x27;s talk about what we&#x27;re going to build and why.</p><p>When learning a new language/framework it is often de-facto to just build a todo app as it covers most bases and lets you see its usage within a sort of real-world application but to me a todo app is really boring, I use one everyday but I don&#x27;t really want to build one. That&#x27;s where this idea comes in.</p><p>We&#x27;re going to create a very simple <em>Data Visualization</em> using Svelte. This data visualization will show, on a map of the UK &amp; Ireland, which regions have contributed most to the English Premier League title wins since its creation in 1992. Don&#x27;t worry if you don&#x27;t like sports, everything is applicable outside of sports. The main reason I chose this topic is that there is so much data available, but it is also scoped small enough for an article (hopefully 🤞).</p><p>You can find a demo of this data visualization at the following link: <a href="https://pjaerr.github.io/Svelte-Data-Vis-Premier-League/" target="_blank" rel="nofollow">https://pjaerr.github.io/Svelte-Data-Vis-Premier-League/</a></p><p>or you can just view the gif below:</p><figure class="Video__VideoContainer-ugyrsd-0 fuyTsK"><video autoplay="" playsinline="" loop="" muted="" controls=""><source src="/lets-create-data-vis-svelte/final-app.webm" type="video/webm"/><source src="/lets-create-data-vis-svelte/final-app.mp4" type="video/mp4"/>Sorry, your browser doesn&#x27;t support embedded videos.</video><figcaption>The finished product in action</figcaption></figure><h2>Setup 🛠️</h2><p>I won&#x27;t go too deep into setting up Svelte as there are already guides on this, but the steps below should be enough to get started:</p><ol><li>Run <code class="language-text">npx degit sveltejs/template premier-league-data-vis</code></li><li>Run <code class="language-text">cd premier-league-data-vis</code></li><li>Run <code class="language-text">npm install</code></li><li>Delete the contents of the default <code class="language-text">App.svelte</code> and <code class="language-text">main.js</code> files.</li><li>Run <code class="language-text">npm run dev</code></li></ol><p>If you are using VS Code, there is a really useful extension called <a href="https://marketplace.visualstudio.com/items?itemName=JamesBirtles.svelte-vscode" target="_blank" rel="nofollow">Svelte for VS Code</a> by James Birtles that gives you intellisense for .svelte files however you can follow this article without it.</p><h2>The Data 📊</h2><p>For this project we will need the following data:</p><ul><li>Each team that has won the premier league since its creation in 1992.</li><li>For each team that has won, the season they won and the squad that played in the season they won.</li><li>A list of players from the UK and Ireland who had atleast 1 appearance for a winning team and the region they were born in.</li></ul><p>To get the football data I used the following <a href="https://www.worldfootball.net/winner/eng-premier-league/" target="_blank" rel="nofollow">website</a> and made it into something that we can work with which you can find in the github repo <a href="https://github.com/Pjaerr/Svelte-Data-Vis-Premier-League/tree/master/src/Data" target="_blank" rel="nofollow">here</a></p><p>The data looks like the following where it is split up by region and that region has an array of players from the region who have won premier league titles, it also has a region&#x27;s overall appearances (every player&#x27;s appearances added together). For each player, we just list the seasons they won, who they won it with and how many appearances they had. It looks like the following:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Berkshire&quot;</span><span class="token punctuation">,</span>
    players<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;Neil Webb&quot;</span><span class="token punctuation">,</span>
        seasons<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            year<span class="token operator">:</span> <span class="token string">&quot;1992/1993&quot;</span><span class="token punctuation">,</span>
            team<span class="token operator">:</span> <span class="token string">&quot;Manchester United&quot;</span><span class="token punctuation">,</span>
            appearances<span class="token operator">:</span> <span class="token number">1</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;Stephen Hughes&quot;</span><span class="token punctuation">,</span>
        seasons<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            year<span class="token operator">:</span> <span class="token string">&quot;1997/1998&quot;</span><span class="token punctuation">,</span>
            team<span class="token operator">:</span> <span class="token string">&quot;Arsenal FC&quot;</span><span class="token punctuation">,</span>
            appearances<span class="token operator">:</span> <span class="token number">16</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token operator">...</span>etc</code></pre></div><p>In your project, create a folder in <code class="language-text">src</code> called <code class="language-text">Data</code> and then create the following files:</p><ul><li><code class="language-text">data.js</code> - This should hold the data for each region found <a href="https://github.com/Pjaerr/Svelte-Data-Vis-Premier-League/blob/master/src/Data/Data.js" target="_blank" rel="nofollow">here</a></li><li><code class="language-text">regionPaths.js</code> - We&#x27;ll get to this in the next section, but this will hold each region of our map as an actual SVG path to be drawn to the screen.</li><li><code class="language-text">getRegionData.js</code> - This will export a function that takes a region&#x27;s name and will return all the data associated with that region.</li></ul><p>If you haven&#x27;t already, populate the <code class="language-text">data.js</code> file and the <code class="language-text">regionPaths.js</code> file with the data at the following link: <a href="https://github.com/Pjaerr/Svelte-Data-Vis-Premier-League/tree/master/src/Data" target="_blank" rel="nofollow">https://github.com/Pjaerr/Svelte-Data-Vis-Premier-League/tree/master/src/Data</a></p><p>Next, inside of the <code class="language-text">getRegionData.js</code> file, import the <code class="language-text">data.js</code> file and work out what the highest number of appearances is for any single region as we will need this to determine how much a region has contributed to premier league wins.</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> data <span class="token keyword">from</span> <span class="token string">&quot;./data&quot;</span><span class="token punctuation">;</span>

<span class="token comment">//Obtain the highest number of appearances that any single region has</span>
<span class="token keyword">let</span> highestNumberOfAppearances <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> region <span class="token keyword">of</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>region<span class="token punctuation">.</span>overallAppearances <span class="token operator">&gt;</span> highestNumberOfAppearances<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    highestNumberOfAppearances <span class="token operator">=</span> region<span class="token punctuation">.</span>overallAppearances<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>The end goal of this data visualization is to have a map of the UK where each region is coloured in based on their contribution to premier league title wins. To do this we must determine each region&#x27;s contribution and then assign a colour based on that.</p><p>We&#x27;ll be using the following colour palette where green = higher contribution:</p><p><img src="/lets-create-data-vis-svelte/colour-palette" alt="Colour Palette"/></p><p>In the <code class="language-text">getRegionData.js</code> file underneath the code you&#x27;ve already written, store the colours in an array:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> colourPalette <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;#38003c&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#2a404e&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#274c52&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#265053&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#255454&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#245956&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#226659&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#1f735d&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#1c8060&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#198c64&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#169968&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#14a66b&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#11b26f&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#0ebf73&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#0bcc76&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#08d97a&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#06e67e&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#03f281&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#00ff85&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></div><p>Next, we want to map the overall appearances of a region to a value in the array of colours. We do this using a formula which maps (0 to highestNumberOfAppearances) in the range of (0 to length of colours array) and then just create a colour property on each region with the hex value or to the default dark colour if they haven&#x27;t contributed at all.</p><p>Place the following code below the colour palette array:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">//Map the number of appearances (0 to highestNumberOfAppearances) to a HEX value in the array</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> region <span class="token keyword">of</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> index <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span>region<span class="token punctuation">.</span>overallAppearances <span class="token operator">/</span> highestNumberOfAppearances<span class="token punctuation">)</span> <span class="token operator">*</span>
      <span class="token punctuation">(</span>colourPalette<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>region<span class="token punctuation">.</span>overallAppearances <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    region<span class="token punctuation">.</span>colour <span class="token operator">=</span> <span class="token string">&quot;rgba(51, 51, 51, 0.5)&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    region<span class="token punctuation">.</span>colour <span class="token operator">=</span> colourPalette<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>You can read more on the maths behind this <a href="https://math.stackexchange.com/questions/377169/calculating-a-value-inside-one-range-to-a-value-of-another-range" target="_blank" rel="nofollow">here</a> if you are interested.</p><p>Finally, in the <code class="language-text">getRegionData.js</code> file, create a function that takes a region&#x27;s name and then returns the actual data for that region. We also want to export this function as the default function so it can be imported and used throughout our application to gain access to the data:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">//Export a function that takes a region name and will return the region for that name.</span>
<span class="token keyword">const</span> <span class="token function-variable function">getRegionData</span> <span class="token operator">=</span> <span class="token parameter">regionName</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">region</span> <span class="token operator">=&gt;</span> region<span class="token punctuation">.</span>name <span class="token operator">===</span> regionName<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> getRegionData<span class="token punctuation">;</span></code></pre></div><p>In the next two sections we will make sure Svelte is working and then create a component that holds all of our SVG paths creating a full SVG map of the UK.</p><h2>The Map 🗺️</h2><p>Now we have our data, we need the map. For this project I am using a map of the UK and Ireland that I found <a href="https://mapsvg.com/maps/united-kingdom-counties/" target="_blank" rel="nofollow">here</a>. We can download this map as an SVG but we won&#x27;t be directly using it as an SVG. For our purposes we need each <code class="language-text">&lt;path&gt;</code> within the SVG to be seperated out. This is where our <code class="language-text">regionPaths.js</code> file comes in.</p><p>Feel free to just copy the contents of the file from <a href="https://github.com/Pjaerr/Svelte-Data-Vis-Premier-League/blob/master/src/Data/regionPaths.js" target="_blank" rel="nofollow">Github</a> to speed things up if you haven&#x27;t already.</p><p>Your <code class="language-text">regionPaths.js</code> file should look something like this:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    svgPath<span class="token operator">:</span> <span class="token string">&quot;M642.97,979.16L643.67,982.94L647.4,986...&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Bedfordshire&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    svgPath<span class="token operator">:</span><span class="token string">&quot;M612.68,1061.2L613.28,1059L614.67,1058.64L...&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Berkshire&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">]</span></code></pre></div><h2>The <code class="language-text">&lt;MapContainer&gt;</code> Component 🗺️ → 📦</h2><p>This is our first <em>component</em>, but before we begin, let&#x27;s write the code that will actually hold the application.</p><p>Edit the <code class="language-text">main.js</code> file to include the following code:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.svelte&quot;</span><span class="token punctuation">;</span>

<span class="token comment">//Here we use intro:true so that transitions run on initial load.</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">App</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  target<span class="token operator">:</span> document<span class="token punctuation">.</span>body<span class="token punctuation">,</span>
  intro<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> app<span class="token punctuation">;</span></code></pre></div><p>This is the entry file where we create a new instance of the <code class="language-text">App.svelte</code> component and tell it to add itself to the body of the page using <code class="language-text">target: document.body</code>.</p><p>We then tell it that we want any animations/transitions on this component and its children to happen when we first load the component (By default Svelte only plays animations/transitions after a state change). We do this by adding the <code class="language-text">intro: true</code> property, this is important as we want to animate the map by drawing it when you first load the page.</p><p>Once you have done this, you won&#x27;t see anything on the page as you need to edit the <code class="language-text">App.svelte</code> file. As a test, let&#x27;s pull in our Regions and put their names onto the screen using a Svelte <code class="language-text">#each</code> loop.</p><p>In the <code class="language-text">App.svelte</code> file:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> regions <span class="token keyword">from</span> <span class="token string">&quot;./Data/regionPaths.js&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

{#each regions as { name }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
{/each}</code></pre></div><p>Here we import the array from <code class="language-text">regionPaths.js</code> as you do with normal JavaScript, and then create an <code class="language-text">#each</code> loop that will put an <code class="language-text">&lt;h1&gt;</code> tag onto the page with the name of the region inside for each item in the regions array.</p><p>The page should have hot-reloaded (at localhost:5000) and you should now see the name of each region on the page.</p><p>With the basic setup out of the way, let&#x27;s create the <code class="language-text">&lt;MapContainer&gt;</code> component. This component will just be an SVG that lets us put any valid SVG code inside of it and it will be used to house the svgPaths of the regions. This way we can seperate the regions (which are just svg paths) from their parent SVG element.</p><p>Start by creating a folder called <code class="language-text">Components</code> inside of the <code class="language-text">src</code> folder. Inside of that folder, create a new file called <code class="language-text">MapContainer.svelte</code></p><p>Write the following in the <code class="language-text">MapContainer.svelte</code> file:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> width <span class="token operator">=</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> height <span class="token operator">=</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{width}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{height}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>This is a very simple component that defines a width and height and then creates an SVG element with that width and height. Currently nothing will display on the page as there is nothing inside of the SVG and we haven&#x27;t imported it into our <code class="language-text">App.svelte</code> file.</p><p>Let&#x27;s make it so we can pass in a width and height to our component when we create it. In Svelte you do this by placing <code class="language-text">export</code> in front of variables within the JavaScript. This tells Svelte that we wish to provide values when we create an instance of the component.</p><p>We can also simplify the usage of the width and height as attributes because they are named the same by just removing the <code class="language-text">width=</code> part on the svg element.</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">let</span> width <span class="token operator">=</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">let</span> height <span class="token operator">=</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">{width}</span> <span class="token attr-name">{height}</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>As we have given the variables a default value, they will fallback to <code class="language-text">&quot;100%&quot;</code> if nothing is passed into the component, you can also choose not to provide a default value and in that case it will default to <code class="language-text">undefined</code> when nothing is provided.</p><p>Let&#x27;s replace the example code with our component.</p><p>In the <code class="language-text">App.svelte</code> file:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> MapContainer <span class="token keyword">from</span> <span class="token string">&quot;./Components/MapContainer.svelte&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapContainer</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>800px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>600px<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div><p>If you inspect the page using dev tools you should be able to see an empty SVG element. This is obviously very exciting but let&#x27;s turn it into something more useful!</p><p>First remove the export from the width and height variables, these will be decided based on the elements inside of the SVG later on so no values need to be provided.</p><p>Next, we are going to create something called a <code class="language-text">&lt;slot&gt;</code> inside of our SVG element. A slot is a feature of Svelte that allows us to decide where elements placed inside of a component when it is created should appear <em>inside</em> the actual component.</p><p>In the <code class="language-text">MapContainer.svelte</code> file:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> width <span class="token operator">=</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> height <span class="token operator">=</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">{width}</span> <span class="token attr-name">{height}</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>regions<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>This means that we can do something like the following in the <code class="language-text">App.svelte</code> file:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> MapContainer <span class="token keyword">from</span> <span class="token string">&quot;./Components/MapContainer.svelte&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapContainer</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">fill</span><span class="token punctuation">:</span>red</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MapContainer</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>Inside of our component, it will turn into:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">{width}</span> <span class="token attr-name">{height}</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>regions<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">fill</span><span class="token punctuation">:</span>red</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>as the contents inside of <code class="language-text">&lt;MapContainer&gt; &lt;/MapContainer&gt;</code> are placed inside of the <code class="language-text">&lt;slot&gt;</code>.</p><p>You should now see a red rectangle on the screen.</p><p>Using what we&#x27;ve written, let&#x27;s get our map onto the page.</p><p>Add the <code class="language-text">#each</code> loop back into the <code class="language-text">App.svelte</code> file, but this time pull through and put the svgPath onto the page and inside of our <code class="language-text">MapContainer</code> component:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> regions <span class="token keyword">from</span> <span class="token string">&quot;./Data/regionPaths.js&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> MapContainer <span class="token keyword">from</span> <span class="token string">&quot;./Components/MapContainer.svelte&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapContainer</span><span class="token punctuation">&gt;</span></span>
  {#each regions as { name, svgPath }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{svgPath}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  {/each}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MapContainer</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>You should now see the full map on the page. What we&#x27;ve just done is essentially re-create the original SVG but as Svelte components.</p><p>You may notice that the map is too big. We can do a few things to fix this, first start by providing some structure in the <code class="language-text">App.svelte</code> file:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>map-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapContainer</span><span class="token punctuation">&gt;</span></span>
      {#each regions as { name, svgPath }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{svgPath}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      {/each}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MapContainer</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>and then add the following styles:</p><div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">.app</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.map-container</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 860px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.app</span> <span class="token punctuation">{</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.map-container</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>Once you&#x27;ve done that, we can use the <code class="language-text">onMount</code> function that Svelte provides to run some code when our component is added to the page. This code should get the bounding box of our SVG once it has content inside of it and then update the width and height to fit that bounding box.</p><p>In the <code class="language-text">MapContainer.svelte</code> file, start by importing the <code class="language-text">onMount</code> function from Svelte:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> onMount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;svelte&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>and then create a local variable for the width, height and then a variable to hold a reference to the SVG element:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> onMount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;svelte&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> svg<span class="token punctuation">;</span>
  <span class="token keyword">let</span> width <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> height <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>next, create a function called <code class="language-text">resizeSVG</code> that updates the width and height variables based on the SVG&#x27;s bounding box and pass this function into Svelte&#x27;s <code class="language-text">onMount</code> function:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> onMount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;svelte&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> svg<span class="token punctuation">;</span>
  <span class="token keyword">let</span> width <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> height <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">resizeSVG</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> svgBoundingBox <span class="token operator">=</span> svg<span class="token punctuation">.</span><span class="token function">getBBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    width <span class="token operator">=</span> svgBoundingBox<span class="token punctuation">.</span>x <span class="token operator">+</span> svgBoundingBox<span class="token punctuation">.</span>width <span class="token operator">+</span> svgBoundingBox<span class="token punctuation">.</span>x<span class="token punctuation">;</span>
    height <span class="token operator">=</span> svgBoundingBox<span class="token punctuation">.</span>y <span class="token operator">+</span> svgBoundingBox<span class="token punctuation">.</span>height <span class="token operator">+</span> svgBoundingBox<span class="token punctuation">.</span>y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">onMount</span><span class="token punctuation">(</span>resizeSVG<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>finally, in the HTML add the calculated attributes to the SVG element and bind the element to the <code class="language-text">svg</code> variable:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span>
  <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0 0 {width} {height}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{window.innerHeight<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">-</span>
  <span class="token attr-name">10}</span>
  <span class="token attr-name"><span class="token namespace">bind:</span>this</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{svg}<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>regions<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>As you can see, we import <code class="language-text">onMount</code> from Svelte and then we pass it a function to run. This function does what we described above and, when the width and height change, Svelte automatically re-renders our svg element with the updated values.</p><p>We also have a new variable called <code class="language-text">svg</code> and <code class="language-text">bind:this={svg}</code> on our svg element. All this does is store a reference to the actual svg element inside of the <code class="language-text">svg</code> variable. In our use case, this is like calling <code class="language-text">document.querySelector(svg)</code> in vanilla javascript.</p><p>This works as expected but we also want this to happen when the page is resized, for this Svelte provides a special meta tag called <code class="language-text">svelte:window</code> which we can use to bind our resize functionality to the window being resized as well as binding the height of the window so our SVG is always up to date.</p><p>Start by creating a new variable in the JavaScript</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> windowHeight <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></code></pre></div><p>and then create a new element in the html that takes the <code class="language-text">resizeSVG</code> function as a callback and also binds the inner height of the window to our <code class="language-text">windowHeight</code> variable:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">svelte:</span>window</span> <span class="token attr-name"><span class="token namespace">on:</span>resize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{resizeSVG}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>innerHeight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{windowHeight}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div><p>and also update the SVG element so it uses the new <code class="language-text">windowHeight</code> variable instead of <code class="language-text">window.innerHeight</code>:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">svelte:</span>window</span> <span class="token attr-name"><span class="token namespace">on:</span>resize</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{resizeSVG}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>innerHeight</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{windowHeight}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span>
  <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0 0 {width} {height}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{windowHeight<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">-</span>
  <span class="token attr-name">10}</span>
  <span class="token attr-name"><span class="token namespace">bind:</span>this</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{svg}<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>regions<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>This should result in the map fitting within the window even when it is resized.</p><p>You can look into the <code class="language-text">svelte:window</code> tag <a href="https://svelte.dev/examples#svelte-window-bindings" target="_blank" rel="nofollow">here</a> and all the cool things that can be done with it.</p><p>And That&#x27;s it! It might seem like a lot of effort just to get our SVG onto the page when we could have just put it directly onto the page but this allows us to directly manage our regions outside of the SVG, which is important as you&#x27;ll find out in the next section.</p><h2>The Basic <code class="language-text">&lt;MapRegion&gt;</code> Component 🗺️ → 📦 → 📍</h2><p>Now we have the SVG as a component, I think it only makes sense to also make the paths into components.</p><p>Create a new component called <code class="language-text">MapRegion.svelte</code> and make it take an svgPath that it will output onto the page.</p><p>In the <code class="language-text">MapRegion.svelte</code> file:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">let</span> svgPath<span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>path<span class="token punctuation">&quot;</span></span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{svgPath}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div><p>and then in the <code class="language-text">App.svelte</code> file, import the new component and replace the direct path:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapContainer</span><span class="token punctuation">&gt;</span></span>
  {#each regions as { name, svgPath }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapRegion</span> <span class="token attr-name">{svgPath}</span> <span class="token punctuation">/&gt;</span></span>
  {/each}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MapContainer</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>Let&#x27;s say we wanted to be able to specify a fill colour for the path, we&#x27;d simply export a variable and then use that variable like so:</p><p>In the <code class="language-text">MapRegion.svelte</code> file:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">let</span> svgPath<span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">let</span> fillColour <span class="token operator">=</span> <span class="token string">&quot;#333&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>path<span class="token punctuation">&quot;</span></span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{svgPath}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{fillColour}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div><p>In the <code class="language-text">App.svelte</code> file:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapContainer</span><span class="token punctuation">&gt;</span></span>
  {#each regions as { name, svgPath }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapRegion</span> <span class="token attr-name">{svgPath}</span> <span class="token attr-name">fillColour</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  {/each}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MapContainer</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>We can also do the same thing for stroke colour and stroke width like so:</p><p>In the <code class="language-text">MapRegion.svelte</code> file:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">let</span> svgPath<span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">let</span> fillColour <span class="token operator">=</span> <span class="token string">&quot;#333&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">let</span> strokeColour <span class="token operator">=</span> <span class="token string">&quot;#fff&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">let</span> strokeWidth <span class="token operator">=</span> <span class="token string">&quot;1px&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>path<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{svgPath}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{fillColour}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{strokeColour}<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name">
  <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token selector">stroke-width:</span> <span class="token punctuation">{</span>strokeWidth<span class="token punctuation">}</span></span><span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span></code></pre></div><p>In the <code class="language-text">App.svelte</code> file:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapContainer</span><span class="token punctuation">&gt;</span></span>
  {#each regions as { name, svgPath }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapRegion</span>
    <span class="token attr-name">{svgPath}</span>
    <span class="token attr-name">fillColour</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">strokeColour</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>white<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">strokeWidth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1px<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">/&gt;</span></span>
  {/each}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MapContainer</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>This is the very basic <code class="language-text">&lt;MapRegion&gt;</code> component. In the next section we&#x27;ll spice things up a bit by adding a svelte transition to our map regions so they draw themselves.</p><h2>Adding Transitions to our <code class="language-text">&lt;MapRegion&gt;</code> Component 📍 → 💫</h2><p>One of the coolest parts about Svelte is how easy it makes animation. This is mostly because it treats it as first-class functionality.</p><p>We are going to make use of animation by using the Transition directive.</p><p>To get up and running, all we need to do is import the <em>draw</em> transition at the top of the <code class="language-text">&lt;script&gt;</code> tags:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> draw <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;svelte/transition&quot;</span><span class="token punctuation">;</span></code></pre></div><p>and then add the <code class="language-text">transition:draw</code> attribute to the SVG path which tells it to draw itself:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>
  <span class="token attr-name"><span class="token namespace">transition:</span>draw</span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>path<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{svgPath}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{fillColour}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{strokeColour}<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name">
  <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token selector">stroke-width:</span> <span class="token punctuation">{</span>strokeWidth<span class="token punctuation">}</span></span><span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span></code></pre></div><p>That results in an SVG that draws itself through each path drawing itself individually:</p><figure class="Video__VideoContainer-ugyrsd-0 fuyTsK"><video autoplay="" playsinline="" loop="" muted="" controls=""><source src="/lets-create-data-vis-svelte/basic-draw-transition.webm" type="video/webm"/><source src="/lets-create-data-vis-svelte/basic-draw-transition.mp4" type="video/mp4"/>Sorry, your browser doesn&#x27;t support embedded videos.</video><figcaption>Basic draw transition using Svelte</figcaption></figure><p>but we can make it better, let&#x27;s start by specifying the speed at which we want to draw each path, we do this by changing the attribute to be:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html">transition:draw={{ duration: 1500 }}</code></pre></div><p>where <code class="language-text">1500</code> is the time in milliseconds the animation should take.</p><p>Now it&#x27;s kind of hard to see the actual animation because of the conflicting colours. Let&#x27;s flip the stroke colour and fill colour for the duration of the animation. We first start by defining a new variable in our script tags.</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> transitionEnded <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></code></pre></div><p>and then on the path, we can add an event listener that will set <code class="language-text">transitionEnded</code> to true once the transition has ended. Svelte handles all of this for us as it knows when the draw transition finishes.</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>
  <span class="token attr-name"><span class="token namespace">transition:</span>draw</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{ duration: 1500 }}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">on:</span>introend</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{() =&gt; (transitionEnded = true)}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>path<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{svgPath}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{fillColour}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{strokeColour}<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name">
  <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token selector">stroke-width:</span> <span class="token punctuation">{</span>strokeWidth<span class="token punctuation">}</span></span><span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span></code></pre></div><p>Now let&#x27;s add a condition to the fill and stroke attributes to flip the colours if transitionEnded is false.</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>
  <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{transitionEnded ? fillColour : strokeColour}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{transitionEnded ? strokeColour : fillColour}<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span></code></pre></div><p>As a final touch, let&#x27;s add a CSS transition to the fill attribute so that when the fill colour is set, it doesn&#x27;t just flash onto the screen.</p><p>Add the following CSS rule to the <code class="language-text">&lt;style&gt;</code> tags:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.path</span> <span class="token punctuation">{</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> fill 0.5s ease<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>If everything has gone smoothly, we should end up with something that looks like the following, excluding the choppy gif of course:</p><figure class="Video__VideoContainer-ugyrsd-0 fuyTsK"><video autoplay="" playsinline="" loop="" muted="" controls=""><source src="/lets-create-data-vis-svelte/finished-draw-transition.webm" type="video/webm"/><source src="/lets-create-data-vis-svelte/finished-draw-transition.mp4" type="video/mp4"/>Sorry, your browser doesn&#x27;t support embedded videos.</video><figcaption>Final draw transition</figcaption></figure><h2>Adding Interactivity 🖱️ → 🗺️</h2><p>Now the map has some animations, let&#x27;s take it a step further and make it interactive. In this section we will be making each <code class="language-text">&lt;MapRegion&gt;</code> log it&#x27;s name to the console when it is clicked.</p><p>First navigate to the <code class="language-text">&lt;MapRegion&gt;</code> component and add an empty <code class="language-text">on:click</code> event to the svg path.</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>
  <span class="token attr-name"><span class="token namespace">on:</span>click</span>
  <span class="token attr-name"><span class="token namespace">transition:</span>draw</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{ duration: 1500 }}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">on:</span>introend</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{ () =&gt; (transitionEnded = true)}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{svgPath}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>path<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{transitionEnded ? fillColour : strokeColour}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{transitionEnded ? strokeColour : fillColour}<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name">
  <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token selector">stroke-width:</span> <span class="token punctuation">{</span>strokeWidth<span class="token punctuation">}</span></span><span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span></code></pre></div><p>This says we don&#x27;t want to handle the <code class="language-text">on:click</code> event in our <code class="language-text">&lt;MapRegion&gt;</code> component, rather we want to bubble it up and instead handle it wherever our <code class="language-text">&lt;MapRegion&gt;</code> component is used.</p><p>We can do this easily by adding the same <code class="language-text">on:click</code> event to our <code class="language-text">&lt;MapRegion&gt;</code> component but instead of it being empty we want to print the name of the component to the console.</p><p>In the <code class="language-text">App.svelte</code> file:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapContainer</span><span class="token punctuation">&gt;</span></span>
  {#each regions as { name, svgPath }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapRegion</span>
    <span class="token attr-name"><span class="token namespace">on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{() =&gt; { console.log(name + &#x27; clicked!&#x27;) }}<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">{svgPath}</span>
    <span class="token attr-name">fillColour</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">strokeColour</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>white<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">strokeWidth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1px<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">/&gt;</span></span>
  {/each}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MapContainer</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>If you open the browser and click on the different regions of the map, you should see the name of that region in the console.</p><p>Now let&#x27;s make it a bit more obvious by storing which region was last clicked and showing it on the page inside of a <code class="language-text">&lt;h1&gt;</code></p><p>Start by creating a variable in the <code class="language-text">App.svelte</code> file:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> activeRegion<span class="token punctuation">;</span></code></pre></div><p>and then in the <code class="language-text">on:click</code> event handler replace the console.log with:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">activeRegion <span class="token operator">=</span> name<span class="token punctuation">;</span></code></pre></div><p>Finally, add a <code class="language-text">&lt;h1&gt;</code> tag to the page that just contains the active region:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{activeRegion}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>map-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapContainer</span><span class="token punctuation">&gt;</span></span>
      {#each Regions as { name, svgPath }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapRegion</span>
        <span class="token attr-name"><span class="token namespace">on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{() =&gt; { activeRegion = name; }}<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">{svgPath}</span>
        <span class="token attr-name">fillColour</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">strokeColour</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>white<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">strokeWidth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1px<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span>
      {/each}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MapContainer</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>If you check the browser, you&#x27;ll notice that it says <code class="language-text">undefined</code>, this is because we haven&#x27;t set any text by default, you can just set the default text of <code class="language-text">activeRegion</code> to be something like &quot;No region selected&quot; for the time being.</p><p>Now if you click on any of the regions you&#x27;ll see that it shows the region we last clicked. Although this seems simple it is a key part of how Svelte works. Svelte treats every top-level variable in your <code class="language-text">&lt;script&gt;</code> tags as that component&#x27;s state and when that state is updated, it will re-render the HTML with the updated state. This is all done for us automatically but it is important to be aware of!</p><p>As a finishing touch before we move onto the next section, let&#x27;s just add a tiny bit of CSS so that the regions are highlighted when you hover over them and a condition in the <code class="language-text">App.svelte</code> file so that the active region stays highlighted.</p><p>Add the following CSS in the <code class="language-text">&lt;MapRegion&gt;</code> component:</p><div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">.path:hover</span> <span class="token punctuation">{</span>
  <span class="token property">fill</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><p>and then in the <code class="language-text">App.svelte</code> file replace the <code class="language-text">fillColour</code> property of the <code class="language-text">&lt;MapRegion&gt;</code> component with the following ternary conditon:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapRegion</span> <span class="token attr-name">fillColour</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{activeRegion === name ? &#x27;#333&#x27; : &#x27;red&#x27;}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div><p>this says that if the active region is equal to the name of the region being rendered, then fill it in with the grey colour, if not, fill it in red as normal.</p><p>If you&#x27;ve done everything correctly, you should have something that looks like the following:</p><figure class="Video__VideoContainer-ugyrsd-0 fuyTsK"><video autoplay="" playsinline="" loop="" muted="" controls=""><source src="/lets-create-data-vis-svelte/interactive-map.webm" type="video/webm"/><source src="/lets-create-data-vis-svelte/interactive-map.mp4" type="video/mp4"/>Sorry, your browser doesn&#x27;t support embedded videos.</video><figcaption>Interactive map being clicked on</figcaption></figure><p>In the next section we will be using the function we created at the very beginning to colour in the MapRegion components based on their contribution to the premier league.</p><h2>Visualizing the data 🔢</h2><p>Inside of the <code class="language-text">App.svelte</code> file, import the <code class="language-text">getRegionData</code> function in the <code class="language-text">&lt;script&gt;</code> tags:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> getRegionData <span class="token keyword">from</span> <span class="token string">&quot;./Data/getRegionData.js&quot;</span><span class="token punctuation">;</span></code></pre></div><p>and then for the fillColour property of each <code class="language-text">&lt;MapRegion&gt;</code>, instead of passing in &#x27;red&#x27;, we can instead just call our function and access the .colour property on it like so:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MapRegion</span>
  <span class="token attr-name"><span class="token namespace">on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{() =&gt; { activeRegion = name; }}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">{svgPath}</span>
  <span class="token attr-name">fillColour</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{activeRegion === name ? &#x27;#333&#x27; : getRegionData(name).colour}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">strokeColour</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>white<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">strokeWidth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1px<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span></code></pre></div><p>If you&#x27;ve done everything correctly, you should end up with a map that looks like this:</p><p><img src="/lets-create-data-vis-svelte/coloured-map" alt="Map With Colour"/></p><p>This section was a brief one as we did all the work at the very beginning; In the remaining sections we will create a Svelte component that shows all of the data about the region you have clicked. We will also do some housekeeping and make sure everything is styled properly and then we are pretty much finished!</p><h2>The <code class="language-text">&lt;RegionInformation&gt;</code> Component 🖱️ → 🗺️ → 🗃️</h2><p>In this section we will be creating a new Svelte component that shows us all the data about a region when we click it.</p><p>Let&#x27;s start by making a new component called <code class="language-text">RegionInformation.svelte</code> in the Components folder.</p><p>This component will be a modal that pops up when the user clicks on a region and has all of the information about the region inside of it.</p><p>As with the other components, let&#x27;s make it so we need to pass it a variable when we create it. We should also make it take a function that gets called when we close this component so that we can change the active region in App.svelte.</p><p>Call these <code class="language-text">region</code> and <code class="language-text">onClose</code> respectively.</p><p>In <code class="language-text">RegionInformation.svelte</code>:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">let</span> region<span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">let</span> onClose<span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>This is the information for {region.name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>Now inside of <code class="language-text">App.svelte</code>, import the component and put one on the page to test it out:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> RegionInformation <span class="token keyword">from</span> <span class="token string">&quot;./Components/RegionInformation.svelte&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{activeRegion}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RegionInformation</span> <span class="token attr-name">region</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{getRegionData(&#x27;Derbyshire&#x27;)}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>You should see the something like the following on the page:</p><p><img src="/lets-create-data-vis-svelte/info-for-derbyshire" alt="Example of RegionInformation component on the page"/></p><p>Now let&#x27;s build out the component using the data we have given it. First add the styles for the modal:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.modal-overlay</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0.5<span class="token punctuation">;</span>
    <span class="token property">z-index</span><span class="token punctuation">:</span> 5<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.container</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    <span class="token property">z-index</span><span class="token punctuation">:</span> 10<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.modal</span> <span class="token punctuation">{</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">overflow-y</span><span class="token punctuation">:</span> scroll<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 7px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0px 0.5px 2px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.25<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 420px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    <span class="token selector">.modal</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 520px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 820px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    <span class="token selector">.container</span> <span class="token punctuation">{</span>
      <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>

      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.modal</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 820px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 620px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.header</span> <span class="token punctuation">{</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.header-back-button</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.header-back-button &gt; button</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #f5f5f5<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.header-title</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.header-title &gt; h1</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.4em<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.body-players</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.body-players &gt; h2</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.2em<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>next, create the HTML structure and use the data from the <code class="language-text">region</code> object.</p><p>We&#x27;ll start with an empty div which will act as an overlay to dim the background when the modal is open:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>modal-overlay<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></code></pre></div><p>and then for the container that will hold the modal we want to import two functions from Svelte which will animate the modal in and out of the screen when it is added to the page. For that we will need both the <code class="language-text">slide</code> transition and the <code class="language-text">quintInOut</code> easing function. Simply import these at the top of the component:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> slide <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;svelte/transition&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> quintInOut <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;svelte/easing&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>and then create the container:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">transition:</span>slide</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{ duration: 200, easing: quintInOut }}<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>Inside of the container we want to create a div for the modal which will have a header and body inside of it:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>modal<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>Inside of the header put the following HTML:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>header-back-button<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{onClose}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span>24px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>24px</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0 0 24 24<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>
        <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#333<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>header-title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{region.name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>This creates a button with a back arrow inside of it that, when clicked, calls the <code class="language-text">onClose</code> function passed into the component. It also has a <code class="language-text">&lt;h1&gt;</code> element with the name of this region inside of it.</p><p>Inside of the body, we want to put the following HTML:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html">{#if region.overallAppearances &gt; 0}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>body-stats<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  Number of appearances by players from this region during winning seasons:
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>{region.overallAppearances}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>body-players<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Players<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--Put each player here--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
{:else}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>body-stats<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  This region hasn&#x27;t contributed to the English Premier League 😢
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
{/if}</code></pre></div><p>Next, create a new component called <code class="language-text">Player.svelte</code> and inside of that component put the following markup:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">let</span> name<span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">let</span> seasons<span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.container</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #f5f5f5<span class="token punctuation">;</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.name</span> <span class="token punctuation">{</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  {#each seasons.reverse() as { year, team, appearances }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>{year}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>
    with
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>{appearances}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>
    appearances for
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>{team}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  {/each}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>For each player in our region, we are going to create a new Player component that will display the player&#x27;s name and then each season they contributed to, what year and with what team.</p><p>Note that we do <code class="language-text">seasons.reverse()</code> so that the most recent seasons are at the top of the list when display the player.</p><p>To finalise this, back inside of the <code class="language-text">RegionInformation</code> component, import the new Player component and then add the following Svelte <code class="language-text">#each</code> loop in place of the <code class="language-text">&lt;!--Put each player here--&gt;</code> comment:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html">{#each players as { name, seasons }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Player</span> <span class="token attr-name">{name}</span> <span class="token attr-name">{seasons}</span> <span class="token punctuation">/&gt;</span></span>
{/each}</code></pre></div><p>and then inside of the script tags, put the following:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> players <span class="token operator">=</span> region<span class="token punctuation">.</span>players<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">player1<span class="token punctuation">,</span> player2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> player1Appearances <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> player2Appearances <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  player1<span class="token punctuation">.</span>seasons<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">season</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>player1Appearances <span class="token operator">+=</span> season<span class="token punctuation">.</span>appearances<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  player2<span class="token punctuation">.</span>seasons<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">season</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>player2Appearances <span class="token operator">+=</span> season<span class="token punctuation">.</span>appearances<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> player2Appearances <span class="token operator">-</span> player1Appearances<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>which will order the player&#x27;s in descending order according to their number of appearances.</p><p>If you have done everything correctly, you should see something like this on the page:</p><p><img src="/lets-create-data-vis-svelte/info-for-derbyshire-modal" alt="Example of RegionInformation component on the page as a modal"/></p><p>We don&#x27;t want to show the modal when no region has been selected, so in <code class="language-text">App.svelte</code>, start by giving <code class="language-text">activeRegion</code> no default value and then in the markup, replace the current <code class="language-text">RegionInformation</code> component and the temporary <code class="language-text">&lt;h1&gt;</code> tag with the following:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html">{#if activeRegion}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RegionInformation</span>
  <span class="token attr-name">region</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{getRegionData(activeRegion)}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">onClose</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{() =&gt; { activeRegion = undefined; }}<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
{/if}</code></pre></div><p>This now hides the component if no region is selected, and will show the information for whichever region has been selected instead of just Derbyshire. Notice we also added an onClose function that just sets the activeRegion to undefined, this will happen when we click the back button on the modal.</p><p>You should now be able to click on any region in the map and you should be shown all of the statistics for that region.</p><figure class="Video__VideoContainer-ugyrsd-0 fuyTsK"><video autoplay="" playsinline="" loop="" muted="" controls=""><source src="/lets-create-data-vis-svelte/regioninformation-modal.webm" type="video/webm"/><source src="/lets-create-data-vis-svelte/regioninformation-modal.mp4" type="video/mp4"/>Sorry, your browser doesn&#x27;t support embedded videos.</video><figcaption>The RegionInformation component being used</figcaption></figure><h2>Housekeeping 🏠</h2><p>We&#x27;re almost finished, all that&#x27;s left to do is some housekeeping.</p><p>Let&#x27;s start by creating a simple component that will fill up the whitespace on desktop and tell the user some information about the data visualization.</p><p>Call the component <code class="language-text">Overview.svelte</code> and give it the following javascript and markup:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> blur <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;svelte/transition&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">transition:</span>blur|local</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>English Premier League<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
    The Premier League, often referred to as the English Premier League or the
    EPL outside England, is the top level of the English football league system.
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
    This is a data visualization on the map of the UK &amp; Ireland that highlights
    which regions have contributed the most to premier league title wins based
    on British &amp; Irish players that took part within winning teams.
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>key<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    The colour of a region on the map is based on its contribution which can be
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>none<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>None<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    , or interpolated between
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>low<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Low<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    and
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>high<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>High<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    .
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre></div><p>*<!-- -->The reason we write <code class="language-text">transition:blur|local</code> instead of just <code class="language-text">transition:blur</code> is that we only want this transition to run when the block this code belongs to is created/destroyed but not when any parent blocks are created or destroyed. This results in a less janky animation when we open or close the modal but just means that this transition won&#x27;t run when the entire application first loads.</p><p>Next, give it the following styles:</p><div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">max-width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 940px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.container</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 1100px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.container</span> <span class="token punctuation">{</span>
    <span class="token property">max-width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 1500px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.container</span> <span class="token punctuation">{</span>
    <span class="token property">max-width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token selector">.none,
.low,
.high</span> <span class="token punctuation">{</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.none</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>51<span class="token punctuation">,</span> 51<span class="token punctuation">,</span> 51<span class="token punctuation">,</span> 0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.low</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #38003c<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #f5f5f5<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.high</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #00ff85<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><p>Finally, import the new component into the <code class="language-text">App.svelte</code> file and show it if no region is currently active like so:</p><div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html">{#if activeRegion}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RegionInformation</span>
  <span class="token attr-name">region</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{getRegionData(activeRegion)}<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">onClose</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{() =&gt; { activeRegion = undefined; }}<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
{:else}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Overview</span> <span class="token punctuation">/&gt;</span></span>
{/if}</code></pre></div><p>You should now see some information and a key next to the map, this will only show on screens that are large enough:</p><p><img src="/lets-create-data-vis-svelte/overview-component" alt="Overview component"/></p><h2>Conclusion 😎</h2><p>That&#x27;s it! We&#x27;ve built a small data visualization using Svelte and explored some of the unique features of the framework and I hope the article didn&#x27;t feel too long and that you can take this knowledge on to build bigger and better things!</p><p>If you want to host your website, it&#x27;s really quick and easy as Svelte just outputs static files:</p><ol><li><p>Run <code class="language-text">npm run build</code> to generate the final js and css files.</p></li><li><p>Put the contents of the <code class="language-text">public</code> folder onto a static file host. If you&#x27;re using Github you can create a new branch called <code class="language-text">gh-pages</code> and then just put the static files there. (Read more about this <a href="https://pages.github.com/" target="_blank" rel="nofollow">here</a>)</p></li></ol><p><strong>Some things to note:</strong></p><p>None of the JavaScript has been transpiled to work on older browsers which is fine for this article but you can read up on how to do this <a href="https://blog.az.sg/posts/svelte-and-ie11/" target="_blank" rel="nofollow">here</a> for more important applications.</p><p>I am totally new to Svelte so take this article as a starting point and not as the definitive way to use Svelte.</p><p>Lastly, Svelte is a fully fleshed out framework and we barely scratched the surface, here are some features of Svelte that we didn&#x27;t utilise that you should definitely look into:</p><ul><li><p><a href="https://svelte.dev/examples#reactive-declarations" target="_blank" rel="nofollow">Reactive Declarations and Statements</a></p></li><li><p><a href="https://svelte.dev/examples#await-blocks" target="_blank" rel="nofollow">Await Blocks</a></p></li><li><p><a href="https://svelte.dev/examples#text-inputs" target="_blank" rel="nofollow">Input Binding</a></p></li><li><p><a href="https://svelte.dev/examples#writable-stores" target="_blank" rel="nofollow">Stores</a></p></li><li><p><a href="https://svelte.dev/examples#tweened" target="_blank" rel="nofollow">Tweening/Motion</a></p></li></ul><p>and that&#x27;s just a few things that I think will be really useful in most applications, there&#x27;s much more which can all be found <a href="https://svelte.dev/examples" target="_blank" rel="nofollow">here</a>.</p><p>Thanks for reading!</p></section><section class="BlogpostEnd__Container-sc-1v5rsh7-0 bpXHJg"><p>Congrats, you made it! 🎉</p><p>If you enjoyed this post you can read my other blog posts<!-- --> <a href="/blog">here</a> or follow me on twitter<!-- --> <a href="https://twitter.com/Pjaerr">@Pjaerr</a></p></section><section class="GithubIssueComments-container"><button class="GithubIssueComments-show-comments-button">Show Comments</button></section></article></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/lets-create-data-vis-svelte";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-26b0f76e619f0f82c78b.js"],"component---src-templates-blog-post-template-js":["/component---src-templates-blog-post-template-js-1ca61e09213f5ba91f7d.js"],"component---src-pages-404-js":["/component---src-pages-404-js-e1c50d7fb4b178ee2701.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-24e270d86da7b659586e.js"],"component---src-pages-index-js":["/component---src-pages-index-js-aaadc04fb705ca902b66.js"]};/*]]>*/</script><script src="/webpack-runtime-0fa6871a2a98f993806a.js" async=""></script><script src="/app-26b0f76e619f0f82c78b.js" async=""></script><script src="/framework-37b45856124a722f0eb5.js" async=""></script><script src="/a41fe35e98afd0b1499457e30a7a2f454f628b37-ca9d42fee389d0cce62e.js" async=""></script><script src="/component---src-templates-blog-post-template-js-1ca61e09213f5ba91f7d.js" async=""></script><script src="/styles-1bb458fe328f2ce5df8e.js" async=""></script></body></html>